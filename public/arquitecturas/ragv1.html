<svg viewBox="0 0 1400 800" xmlns="http://www.w3.org/2000/svg" style="background: transparent;">
    <!-- Definiciones -->
    <defs>
      <!-- Marcador de flecha -->
      <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
        <polygon points="0 0, 10 3, 0 6" fill="#00ED64"/>
      </marker>
      
      <!-- Filtro de sombra -->
      <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
        <feOffset dx="0" dy="4" result="offsetblur"/>
        <feFlood flood-color="#00ED64" flood-opacity="0.2"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
      
      <!-- Filtro de brillo -->
      <filter id="glow">
        <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
        <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    
    <!-- T√≠tulo -->
    <rect x="450" y="20" width="500" height="70" rx="35" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
    <text x="700" y="65" font-family="Arial, sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="#001E2B">
      RAG ARCHITECTURE
    </text>
    
    <!-- QUERY -->
    <g id="query">
      <rect x="50" y="200" width="180" height="120" rx="15" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
      <rect x="95" y="220" width="90" height="40" rx="10" fill="#00ED64"/>
      <text x="140" y="245" font-family="Arial" font-size="24" text-anchor="middle" fill="white">üîç</text>
      <text x="140" y="285" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#001E2B">QUERY</text>
      <text x="140" y="305" font-family="Arial" font-size="14" text-anchor="middle" fill="#5C6C75">User Input</text>
    </g>
    
    <!-- EMBEDDING MODEL -->
    <g id="embedding">
      <rect x="320" y="350" width="180" height="120" rx="15" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
      <rect x="365" y="370" width="90" height="40" rx="10" fill="#00ED64"/>
      <text x="410" y="395" font-family="Arial" font-size="24" text-anchor="middle" fill="white">üßÆ</text>
      <text x="410" y="435" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#001E2B">EMBEDDING</text>
      <text x="410" y="455" font-family="Arial" font-size="14" text-anchor="middle" fill="#5C6C75">Model</text>
    </g>
    
    <!-- DATABASE -->
    <g id="database">
      <rect x="50" y="550" width="180" height="120" rx="15" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
      <rect x="95" y="570" width="90" height="40" rx="10" fill="#00ED64"/>
      <text x="140" y="595" font-family="Arial" font-size="24" text-anchor="middle" fill="white">üóÑÔ∏è</text>
      <text x="140" y="635" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#001E2B">DATABASE</text>
      <text x="140" y="655" font-family="Arial" font-size="14" text-anchor="middle" fill="#5C6C75">Unstructured Data</text>
    </g>
    
    <!-- VECTOR DATABASE -->
    <g id="vectordb">
      <rect x="590" y="450" width="180" height="120" rx="15" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
      <rect x="635" y="470" width="90" height="40" rx="10" fill="#00ED64"/>
      <text x="680" y="495" font-family="Arial" font-size="24" text-anchor="middle" fill="white">üìä</text>
      <text x="680" y="535" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#001E2B">VECTOR</text>
      <text x="680" y="555" font-family="Arial" font-size="14" text-anchor="middle" fill="#5C6C75">Database</text>
    </g>
    
    <!-- RERANKER -->
    <g id="reranker">
      <rect x="860" y="300" width="180" height="120" rx="15" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
      <rect x="905" y="320" width="90" height="40" rx="10" fill="#00ED64"/>
      <text x="950" y="345" font-family="Arial" font-size="24" text-anchor="middle" fill="white">üîÑ</text>
      <text x="950" y="385" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#001E2B">RERANKER</text>
      <text x="950" y="405" font-family="Arial" font-size="14" text-anchor="middle" fill="#5C6C75">Relevance Scoring</text>
    </g>
    
    <!-- LLM -->
    <g id="llm">
      <rect x="1130" y="180" width="180" height="120" rx="15" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
      <rect x="1175" y="200" width="90" height="40" rx="10" fill="#00ED64"/>
      <text x="1220" y="225" font-family="Arial" font-size="24" text-anchor="middle" fill="white">ü§ñ</text>
      <text x="1220" y="265" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#001E2B">LLM</text>
      <text x="1220" y="285" font-family="Arial" font-size="14" text-anchor="middle" fill="#5C6C75">Language Model</text>
    </g>
    
    <!-- RESPONSE -->
    <g id="response">
      <rect x="1130" y="550" width="180" height="120" rx="15" fill="white" stroke="#00ED64" stroke-width="3" filter="url(#shadow)"/>
      <rect x="1175" y="570" width="90" height="40" rx="10" fill="#00ED64"/>
      <text x="1220" y="595" font-family="Arial" font-size="24" text-anchor="middle" fill="white">‚úÖ</text>
      <text x="1220" y="635" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#001E2B">RESPONSE</text>
      <text x="1220" y="655" font-family="Arial" font-size="14" text-anchor="middle" fill="#5C6C75">Contextually Rich</text>
    </g>
    
    <!-- CONEXIONES -->
    
    <!-- 1. Query -> Embedding (convierte query en vector) -->
    <path d="M 230 260 L 320 380" stroke="#00ED64" stroke-width="3" fill="none" marker-end="url(#arrowhead)" filter="url(#glow)"/>
    
    <!-- 2. Database -> Embedding (indexaci√≥n offline) -->
    <path d="M 230 600 L 320 430" stroke="#00ED64" stroke-width="3" fill="none" marker-end="url(#arrowhead)" filter="url(#glow)"/>
    
    <!-- 3. Embedding -> Vector DB (almacena vectores) -->
    <path d="M 500 410 L 590 490" stroke="#00ED64" stroke-width="3" fill="none" marker-end="url(#arrowhead)" filter="url(#glow)"/>
    
    <!-- 4. Vector DB -> Reranker (candidatos iniciales) -->
    <path d="M 770 480 L 860 380" stroke="#00ED64" stroke-width="3" fill="none" marker-end="url(#arrowhead)" filter="url(#glow)"/>
    
    <!-- 5. Reranker -> LLM (documentos relevantes) -->
    <path d="M 1040 340 L 1130 260" stroke="#00ED64" stroke-width="3" fill="none" marker-end="url(#arrowhead)" filter="url(#glow)"/>
    
    <!-- 6. Query -> LLM (query original - l√≠nea punteada curva) -->
    <path d="M 230 240 Q 700 120, 1130 220" stroke="#00ED64" stroke-width="2" fill="none" stroke-dasharray="8,4" marker-end="url(#arrowhead)" opacity="0.7" filter="url(#glow)"/>
    
    <!-- 7. LLM -> Response (genera respuesta) -->
    <path d="M 1220 300 L 1220 550" stroke="#00ED64" stroke-width="3" fill="none" marker-end="url(#arrowhead)" filter="url(#glow)"/>
    
    <!-- Animaci√≥n de las l√≠neas punteadas -->
    <animate attributeName="stroke-dashoffset" values="0;-12" dur="1s" repeatCount="indefinite" />
    
    <!-- Part√≠culas decorativas -->
    <circle cx="100" cy="100" r="2" fill="#00ED64" opacity="0.5">
      <animate attributeName="cy" values="100;700;100" dur="8s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;0.5;0" dur="8s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="300" cy="150" r="2" fill="#00ED64" opacity="0.5">
      <animate attributeName="cy" values="150;750;150" dur="9s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;0.5;0" dur="9s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="500" cy="80" r="2" fill="#00ED64" opacity="0.5">
      <animate attributeName="cy" values="80;680;80" dur="10s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;0.5;0" dur="10s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="700" cy="120" r="2" fill="#00ED64" opacity="0.5">
      <animate attributeName="cy" values="120;720;120" dur="11s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;0.5;0" dur="11s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="900" cy="90" r="2" fill="#00ED64" opacity="0.5">
      <animate attributeName="cy" values="90;690;90" dur="12s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;0.5;0" dur="12s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="1100" cy="110" r="2" fill="#00ED64" opacity="0.5">
      <animate attributeName="cy" values="110;710;110" dur="13s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;0.5;0" dur="13s" repeatCount="indefinite"/>
    </circle>
    
    <circle cx="1300" cy="100" r="2" fill="#00ED64" opacity="0.5">
      <animate attributeName="cy" values="100;700;100" dur="14s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0;0.5;0" dur="14s" repeatCount="indefinite"/>
    </circle>
  </svg>