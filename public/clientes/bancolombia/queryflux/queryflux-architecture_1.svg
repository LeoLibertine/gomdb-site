<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1900 1100" font-family="Plus Jakarta Sans, Segoe UI, sans-serif">
  <defs>
    <!-- Gradients -->
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#001E2B"/>
      <stop offset="50%" stop-color="#012620"/>
      <stop offset="100%" stop-color="#001E2B"/>
    </linearGradient>
    <linearGradient id="mongoGreen" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00ED64"/>
      <stop offset="100%" stop-color="#00684A"/>
    </linearGradient>
    <linearGradient id="bancoYellow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FDDA24"/>
      <stop offset="100%" stop-color="#E5C520"/>
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#64B5F6"/>
      <stop offset="100%" stop-color="#1976D2"/>
    </linearGradient>
    <linearGradient id="vectorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#CE93D8"/>
      <stop offset="100%" stop-color="#7B1FA2"/>
    </linearGradient>
    <linearGradient id="feedbackGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#FFB74D"/>
      <stop offset="100%" stop-color="#FF9800"/>
    </linearGradient>
    <linearGradient id="engineGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FF8A65"/>
      <stop offset="100%" stop-color="#E64A19"/>
    </linearGradient>
    
    <!-- Filters -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.4"/>
    </filter>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Markers -->
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L3,5 Z" fill="#00ED64"/>
    </marker>
    <marker id="arrowYellow" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L3,5 Z" fill="#FDDA24"/>
    </marker>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L3,5 Z" fill="#64B5F6"/>
    </marker>
    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L3,5 Z" fill="#FF8A65"/>
    </marker>
    <marker id="arrowFeedback" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L3,5 Z" fill="#FFB74D"/>
    </marker>
    
    <!-- Patterns -->
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(0,237,100,0.03)" stroke-width="1"/>
    </pattern>
  </defs>
  
  <!-- Background -->
  <rect width="1900" height="1100" fill="url(#bgGrad)"/>
  <rect width="1900" height="1100" fill="url(#grid)"/>
  
  <!-- Title -->
  <text x="950" y="38" text-anchor="middle" fill="#fff" font-size="28" font-weight="800">QueryFlux</text>
  <text x="950" y="62" text-anchor="middle" fill="#889397" font-size="13">Motor Hibrido de Deteccion de Fraude en Tiempo Real | Arquitectura Produccion</text>
  
  <!-- SLA Badges -->
  <g transform="translate(50, 20)">
    <rect x="0" y="0" width="140" height="48" rx="10" fill="rgba(0,237,100,0.1)" stroke="#00ED64" stroke-width="1.5"/>
    <text x="70" y="18" text-anchor="middle" fill="#00ED64" font-size="9" font-weight="600">OBJETIVO SLA</text>
    <text x="70" y="38" text-anchor="middle" fill="#00ED64" font-size="15" font-weight="700">500ms max</text>
  </g>
  
  <g transform="translate(205, 20)">
    <rect x="0" y="0" width="140" height="48" rx="10" fill="rgba(253,218,36,0.1)" stroke="#FDDA24" stroke-width="1.5"/>
    <text x="70" y="18" text-anchor="middle" fill="#FDDA24" font-size="9" font-weight="600">HOY OPERA EN</text>
    <text x="70" y="38" text-anchor="middle" fill="#FDDA24" font-size="15" font-weight="700">200-300ms</text>
  </g>
  
  <g transform="translate(1555, 20)">
    <rect x="0" y="0" width="160" height="48" rx="10" fill="rgba(100,181,246,0.1)" stroke="#64B5F6" stroke-width="1.5"/>
    <text x="80" y="16" text-anchor="middle" fill="#64B5F6" font-size="9" font-weight="600">SIZING ATLAS</text>
    <text x="80" y="32" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">M50 + 2 Search Nodes</text>
    <text x="80" y="44" text-anchor="middle" fill="#889397" font-size="8">~54GB WS | 542GB Storage</text>
  </g>
  
  <g transform="translate(1725, 20)">
    <rect x="0" y="0" width="125" height="48" rx="10" fill="rgba(255,138,101,0.1)" stroke="#FF8A65" stroke-width="1.5"/>
    <text x="62" y="16" text-anchor="middle" fill="#FF8A65" font-size="9" font-weight="600">ARQUITECTURA</text>
    <text x="62" y="32" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">Microservicios</text>
    <text x="62" y="44" text-anchor="middle" fill="#889397" font-size="8">Produccion</text>
  </g>

  <!-- ============================================ -->
  <!-- PASO 1: CANALES -->
  <!-- ============================================ -->
  <g transform="translate(50, 100)">
    <rect x="0" y="0" width="155" height="24" rx="6" fill="rgba(253,218,36,0.15)"/>
    <text x="12" y="16" fill="#FDDA24" font-size="9" font-weight="700">PASO 1</text>
    <text x="60" y="16" fill="#889397" font-size="9">CANALES</text>
    
    <!-- App Bancolombia -->
    <g transform="translate(0, 35)" filter="url(#shadow)">
      <rect x="0" y="0" width="155" height="105" rx="12" fill="#1a2e35" stroke="url(#bancoYellow)" stroke-width="2"/>
      <rect x="0" y="0" width="155" height="4" rx="2" fill="url(#bancoYellow)"/>
      
      <g transform="translate(12, 16)">
        <rect x="0" y="0" width="32" height="50" rx="5" fill="none" stroke="#FDDA24" stroke-width="1.5"/>
        <rect x="4" y="5" width="24" height="34" rx="2" fill="#FDDA24" opacity="0.2"/>
        <circle cx="16" cy="44" r="3" fill="#FDDA24"/>
      </g>
      
      <text x="55" y="32" fill="#fff" font-size="11" font-weight="700">App</text>
      <text x="55" y="46" fill="#FDDA24" font-size="10" font-weight="600">Bancolombia</text>
      <text x="55" y="60" fill="#889397" font-size="8">Mi Bancolombia</text>
      
      <g transform="translate(10, 78)">
        <rect x="0" y="0" width="135" height="18" rx="5" fill="rgba(253,218,36,0.1)"/>
        <text x="67" y="12" text-anchor="middle" fill="#889397" font-size="7">Canal Movil</text>
      </g>
    </g>
    
    <!-- SVP -->
    <g transform="translate(0, 155)" filter="url(#shadow)">
      <rect x="0" y="0" width="155" height="105" rx="12" fill="#1a2e35" stroke="url(#bancoYellow)" stroke-width="2"/>
      <rect x="0" y="0" width="155" height="4" rx="2" fill="url(#bancoYellow)"/>
      
      <g transform="translate(12, 16)">
        <rect x="0" y="0" width="36" height="26" rx="3" fill="none" stroke="#FDDA24" stroke-width="1.5"/>
        <rect x="3" y="3" width="30" height="20" rx="2" fill="#FDDA24" opacity="0.2"/>
        <rect x="12" y="30" width="12" height="4" rx="1" fill="#FDDA24"/>
        <rect x="6" y="36" width="24" height="3" rx="1" fill="#FDDA24"/>
      </g>
      
      <text x="55" y="32" fill="#fff" font-size="11" font-weight="700">SVP</text>
      <text x="55" y="46" fill="#FDDA24" font-size="9">Sucursal Virtual</text>
      <text x="55" y="60" fill="#889397" font-size="8">Personas</text>
      
      <g transform="translate(10, 78)">
        <rect x="0" y="0" width="135" height="18" rx="5" fill="rgba(253,218,36,0.1)"/>
        <text x="67" y="12" text-anchor="middle" fill="#889397" font-size="7">Canal Web</text>
      </g>
    </g>
    
    <text x="77" y="285" text-anchor="middle" fill="#667" font-size="7" font-style="italic">"Cliente intenta TX"</text>
  </g>
  
  <!-- ============================================ -->
  <!-- PASO 2: API MONITOREO -->
  <!-- ============================================ -->
  <g transform="translate(270, 100)">
    <rect x="0" y="0" width="155" height="24" rx="6" fill="rgba(100,181,246,0.15)"/>
    <text x="12" y="16" fill="#64B5F6" font-size="9" font-weight="700">PASO 2</text>
    <text x="60" y="16" fill="#889397" font-size="9">ORQUESTACION</text>
    
    <g transform="translate(0, 35)" filter="url(#shadow)">
      <rect x="0" y="0" width="145" height="225" rx="14" fill="#1a2e35" stroke="url(#apiGrad)" stroke-width="2"/>
      <rect x="0" y="0" width="145" height="4" rx="2" fill="url(#apiGrad)"/>
      
      <!-- Badge Ya Existe -->
      <g transform="translate(75, 12)">
        <rect x="0" y="0" width="58" height="16" rx="8" fill="rgba(100,181,246,0.2)" stroke="#64B5F6" stroke-width="1"/>
        <text x="29" y="11" text-anchor="middle" fill="#64B5F6" font-size="7" font-weight="600">YA EXISTE</text>
      </g>
      
      <!-- Icon -->
      <g transform="translate(35, 35)">
        <circle cx="35" cy="28" r="24" fill="rgba(100,181,246,0.15)" stroke="#64B5F6" stroke-width="2"/>
        <path d="M25,24 L35,34 L45,24" stroke="#64B5F6" stroke-width="2.5" fill="none" stroke-linecap="round"/>
        <path d="M25,32 L35,22 L45,32" stroke="#64B5F6" stroke-width="2.5" fill="none" stroke-linecap="round"/>
      </g>
      
      <text x="72" y="95" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">Monitoring</text>
      <text x="72" y="110" text-anchor="middle" fill="#64B5F6" font-size="11" font-weight="600">API</text>
      
      <!-- Responsibilities -->
      <g transform="translate(12, 125)">
        <g transform="translate(0, 0)">
          <circle cx="4" cy="4" r="2" fill="#64B5F6"/>
          <text x="12" y="7" fill="#889397" font-size="8">Recibe peticion</text>
        </g>
        <g transform="translate(0, 16)">
          <circle cx="4" cy="4" r="2" fill="#64B5F6"/>
          <text x="12" y="7" fill="#889397" font-size="8">Orquesta motores</text>
        </g>
        <g transform="translate(0, 32)">
          <circle cx="4" cy="4" r="2" fill="#FF8A65"/>
          <text x="12" y="7" fill="#FF8A65" font-size="8" font-weight="600">Llama Scoring Engine</text>
        </g>
        <g transform="translate(0, 48)">
          <circle cx="4" cy="4" r="2" fill="#64B5F6"/>
          <text x="12" y="7" fill="#889397" font-size="8">Devuelve decision</text>
        </g>
      </g>
      
      <!-- Latency -->
      <g transform="translate(12, 195)">
        <rect x="0" y="0" width="121" height="20" rx="6" fill="rgba(100,181,246,0.15)" stroke="#64B5F6" stroke-width="1"/>
        <text x="60" y="14" text-anchor="middle" fill="#64B5F6" font-size="8" font-weight="600">~30ms overhead</text>
      </g>
    </g>
  </g>
  
  <!-- ============================================ -->
  <!-- PASO 3: SCORING ENGINE (MICROSERVICIO) -->
  <!-- ============================================ -->
  <g transform="translate(480, 100)">
    <rect x="0" y="0" width="200" height="24" rx="6" fill="rgba(255,138,101,0.15)"/>
    <text x="12" y="16" fill="#FF8A65" font-size="9" font-weight="700">PASO 3</text>
    <text x="60" y="16" fill="#889397" font-size="9">MOTOR DE DECISION</text>
    
    <g transform="translate(0, 35)" filter="url(#shadow)">
      <rect x="0" y="0" width="185" height="380" rx="16" fill="#1a2e35" stroke="url(#engineGrad)" stroke-width="2.5"/>
      <rect x="0" y="0" width="185" height="5" rx="3" fill="url(#engineGrad)"/>
      
      <!-- Badge Microservicio -->
      <g transform="translate(95, 12)">
        <rect x="0" y="0" width="78" height="18" rx="9" fill="rgba(255,138,101,0.2)" stroke="#FF8A65" stroke-width="1"/>
        <text x="39" y="12" text-anchor="middle" fill="#FF8A65" font-size="7" font-weight="600">MICROSERVICIO</text>
      </g>
      
      <!-- Icon -->
      <g transform="translate(12, 38)">
        <circle cx="30" cy="30" r="26" fill="rgba(255,138,101,0.15)" stroke="#FF8A65" stroke-width="2"/>
        <circle cx="30" cy="30" r="10" fill="none" stroke="#FF8A65" stroke-width="2"/>
        <path d="M30,10 L30,18 M30,42 L30,50 M10,30 L18,30 M42,30 L50,30" stroke="#FF8A65" stroke-width="2" stroke-linecap="round"/>
        <path d="M16,16 L21,21 M39,39 L44,44 M16,44 L21,39 M39,21 L44,16" stroke="#FF8A65" stroke-width="2" stroke-linecap="round"/>
        <circle cx="30" cy="30" r="4" fill="#FF8A65"/>
      </g>
      
      <text x="85" y="55" fill="#fff" font-size="12" font-weight="700">Hybrid Scoring</text>
      <text x="85" y="70" fill="#FF8A65" font-size="11" font-weight="600">Engine</text>
      <text x="85" y="85" fill="#889397" font-size="8">Java / Python / Node.js</text>
      
      <!-- Flujo -->
      <g transform="translate(12, 105)">
        <rect x="0" y="0" width="161" height="155" rx="8" fill="rgba(255,138,101,0.05)"/>
        <text x="80" y="15" text-anchor="middle" fill="#FF8A65" font-size="9" font-weight="600">FLUJO DE DECISION</text>
        
        <g transform="translate(10, 28)">
          <circle cx="5" cy="5" r="8" fill="rgba(255,138,101,0.2)" stroke="#FF8A65" stroke-width="1"/>
          <text x="5" y="8" text-anchor="middle" fill="#FF8A65" font-size="7" font-weight="700">1</text>
          <text x="20" y="8" fill="#889397" font-size="8">Recibe TX del API</text>
        </g>
        <g transform="translate(10, 48)">
          <circle cx="5" cy="5" r="8" fill="rgba(0,237,100,0.2)" stroke="#00ED64" stroke-width="1"/>
          <text x="5" y="8" text-anchor="middle" fill="#00ED64" font-size="7" font-weight="700">2</text>
          <text x="20" y="8" fill="#889397" font-size="8">Query customer_state</text>
        </g>
        <g transform="translate(10, 68)">
          <circle cx="5" cy="5" r="8" fill="rgba(206,147,216,0.2)" stroke="#CE93D8" stroke-width="1"/>
          <text x="5" y="8" text-anchor="middle" fill="#CE93D8" font-size="7" font-weight="700">3</text>
          <text x="20" y="8" fill="#889397" font-size="8">Ejecuta Vector Search</text>
        </g>
        <g transform="translate(10, 88)">
          <circle cx="5" cy="5" r="8" fill="rgba(253,218,36,0.2)" stroke="#FDDA24" stroke-width="1"/>
          <text x="5" y="8" text-anchor="middle" fill="#FDDA24" font-size="7" font-weight="700">4</text>
          <text x="20" y="8" fill="#889397" font-size="8">Lee risk_rules_config</text>
        </g>
        <g transform="translate(10, 108)">
          <circle cx="5" cy="5" r="8" fill="rgba(255,138,101,0.2)" stroke="#FF8A65" stroke-width="1"/>
          <text x="5" y="8" text-anchor="middle" fill="#FF8A65" font-size="7" font-weight="700">5</text>
          <text x="20" y="8" fill="#889397" font-size="8">Combina + Pondera</text>
        </g>
        <g transform="translate(10, 128)">
          <circle cx="5" cy="5" r="8" fill="rgba(0,237,100,0.2)" stroke="#00ED64" stroke-width="1"/>
          <text x="5" y="8" text-anchor="middle" fill="#00ED64" font-size="7" font-weight="700">6</text>
          <text x="20" y="8" fill="#889397" font-size="8">Retorna decision</text>
        </g>
      </g>
      
      <!-- Formula -->
      <g transform="translate(12, 270)">
        <rect x="0" y="0" width="161" height="50" rx="8" fill="rgba(77,208,225,0.1)" stroke="rgba(77,208,225,0.3)" stroke-width="1"/>
        <text x="80" y="14" text-anchor="middle" fill="#4DD0E1" font-size="8" font-weight="600">FORMULA HIBRIDA</text>
        <g transform="translate(8, 24)">
          <rect x="0" y="0" width="42" height="16" rx="4" fill="rgba(206,147,216,0.3)"/>
          <text x="21" y="11" text-anchor="middle" fill="#CE93D8" font-size="7">Vector</text>
        </g>
        <text x="57" y="35" fill="#889397" font-size="10">+</text>
        <g transform="translate(63, 24)">
          <rect x="0" y="0" width="42" height="16" rx="4" fill="rgba(0,237,100,0.3)"/>
          <text x="21" y="11" text-anchor="middle" fill="#00ED64" font-size="7">Senales</text>
        </g>
        <text x="112" y="35" fill="#889397" font-size="10">+</text>
        <g transform="translate(118, 24)">
          <rect x="0" y="0" width="35" height="16" rx="4" fill="rgba(253,218,36,0.3)"/>
          <text x="17" y="11" text-anchor="middle" fill="#FDDA24" font-size="7">Pesos</text>
        </g>
      </g>
      
      <!-- Latency -->
      <g transform="translate(12, 335)">
        <rect x="0" y="0" width="161" height="32" rx="8" fill="rgba(255,138,101,0.15)" stroke="#FF8A65" stroke-width="1"/>
        <text x="80" y="14" text-anchor="middle" fill="#FF8A65" font-size="9" font-weight="600">Procesamiento: ~50-80ms</text>
        <text x="80" y="26" text-anchor="middle" fill="#889397" font-size="7">+ queries a Atlas</text>
      </g>
    </g>
    
    <!-- Ventajas -->
    <g transform="translate(0, 430)">
      <rect x="0" y="0" width="185" height="85" rx="10" fill="rgba(255,138,101,0.05)" stroke="rgba(255,138,101,0.2)" stroke-width="1"/>
      <text x="12" y="16" fill="#FF8A65" font-size="8" font-weight="600">VENTAJAS MICROSERVICIO:</text>
      <g transform="translate(12, 28)">
        <text x="0" y="0" fill="#889397" font-size="7">âœ“ Testing aislado (unit tests)</text>
        <text x="0" y="12" fill="#889397" font-size="7">âœ“ Deploy sin tocar DB</text>
        <text x="0" y="24" fill="#889397" font-size="7">âœ“ Equipo Analytics itera rapido</text>
        <text x="0" y="36" fill="#889397" font-size="7">âœ“ Integrar ML models futuro</text>
        <text x="0" y="48" fill="#889397" font-size="7">âœ“ Logs/debugging estandar</text>
      </g>
    </g>
  </g>
  
  <!-- ============================================ -->
  <!-- PASO 4: MONGODB ATLAS -->
  <!-- ============================================ -->
  <g transform="translate(730, 100)">
    <rect x="0" y="0" width="540" height="24" rx="6" fill="rgba(0,237,100,0.15)"/>
    <text x="12" y="16" fill="#00ED64" font-size="9" font-weight="700">PASO 4</text>
    <text x="60" y="16" fill="#889397" font-size="9">DATA CORE + VECTOR SEARCH</text>
    <text x="300" y="16" fill="#00ED64" font-size="8" font-weight="600">"El Cerebro de Contexto"</text>
    
    <!-- Main Container -->
    <g transform="translate(0, 35)" filter="url(#shadow)">
      <rect x="0" y="0" width="530" height="480" rx="18" fill="rgba(0,237,100,0.02)" stroke="url(#mongoGreen)" stroke-width="2.5"/>
      
      <!-- Header -->
      <rect x="0" y="0" width="530" height="50" rx="18" fill="url(#mongoGreen)"/>
      <rect x="0" y="32" width="530" height="18" fill="url(#mongoGreen)"/>
      
      <!-- MongoDB Leaf -->
      <g transform="translate(15, 10)">
        <path d="M16,0 C16,0 16,0 16,0 C15.3,6.7 10.7,13.3 6.7,20 C2.7,26.7 2.7,33.3 6.7,40 C8,41.3 9.3,42.7 10.7,43.3 L10.7,50.7 L13.3,50.7 L13.3,43.3 C14.7,42.7 16,41.3 17.3,40 C21.3,33.3 21.3,26.7 17.3,20 C13.3,13.3 8.7,6.7 8,0 C8,0 8,0 8,0 C10.7,2.7 13.3,6.7 14.7,10.7 C16,6.7 18.7,2.7 16,0Z" fill="#001E2B" transform="scale(0.5)"/>
      </g>
      
      <text x="50" y="28" fill="#001E2B" font-size="14" font-weight="800">MongoDB Atlas</text>
      <text x="50" y="42" fill="#001E2B" font-size="8" opacity="0.8">Cluster Dedicado QueryFlux</text>
      
      <!-- Badge -->
      <g transform="translate(380, 10)">
        <rect x="0" y="0" width="135" height="28" rx="14" fill="#001E2B"/>
        <text x="67" y="12" text-anchor="middle" fill="#00ED64" font-size="7">LATENCIA QUERIES</text>
        <text x="67" y="24" text-anchor="middle" fill="#00ED64" font-size="10" font-weight="700">~30-50ms c/u</text>
      </g>
      
      <!-- Vector Search -->
      <g transform="translate(15, 65)" filter="url(#shadow)">
        <rect x="0" y="0" width="245" height="145" rx="12" fill="#1a2e35" stroke="url(#vectorGrad)" stroke-width="2"/>
        <rect x="0" y="0" width="245" height="4" rx="2" fill="url(#vectorGrad)"/>
        
        <!-- Icon -->
        <g transform="translate(12, 15)">
          <circle cx="20" cy="20" r="18" fill="rgba(206,147,216,0.15)" stroke="#CE93D8" stroke-width="1.5"/>
          <circle cx="14" cy="16" r="4" fill="#CE93D8"/>
          <circle cx="26" cy="16" r="4" fill="#CE93D8" opacity="0.7"/>
          <circle cx="20" cy="26" r="4" fill="#CE93D8" opacity="0.5"/>
          <line x1="14" y1="16" x2="26" y2="16" stroke="#CE93D8" stroke-width="1" opacity="0.5"/>
          <line x1="14" y1="16" x2="20" y2="26" stroke="#CE93D8" stroke-width="1" opacity="0.5"/>
          <line x1="26" y1="16" x2="20" y2="26" stroke="#CE93D8" stroke-width="1" opacity="0.5"/>
        </g>
        
        <text x="60" y="28" fill="#fff" font-size="11" font-weight="700">Atlas Vector Search</text>
        <text x="60" y="42" fill="#CE93D8" font-size="9">2 Search Nodes Dedicados</text>
        
        <!-- Features -->
        <g transform="translate(12, 58)">
          <rect x="0" y="0" width="221" height="72" rx="6" fill="rgba(206,147,216,0.08)"/>
          <g transform="translate(10, 12)">
            <circle cx="3" cy="3" r="2" fill="#CE93D8"/>
            <text x="10" y="6" fill="#889397" font-size="8">Embedding con Voyage</text>
          </g>
          <g transform="translate(10, 28)">
            <circle cx="3" cy="3" r="2" fill="#CE93D8"/>
            <text x="10" y="6" fill="#889397" font-size="8">Busqueda topK similares</text>
          </g>
          <g transform="translate(10, 44)">
            <circle cx="3" cy="3" r="2" fill="#CE93D8"/>
            <text x="10" y="6" fill="#889397" font-size="8">Vector Quantization</text>
          </g>
          <g transform="translate(10, 60)">
            <circle cx="3" cy="3" r="2" fill="#CE93D8"/>
            <text x="10" y="6" fill="#889397" font-size="8">Detecta anomalias</text>
          </g>
        </g>
      </g>
      
      <!-- fraud_patterns -->
      <g transform="translate(275, 65)" filter="url(#shadow)">
        <rect x="0" y="0" width="240" height="145" rx="12" fill="#1a2e35" stroke="rgba(206,147,216,0.5)" stroke-width="1.5"/>
        
        <g transform="translate(12, 15)">
          <circle cx="18" cy="18" r="16" fill="none" stroke="#CE93D8" stroke-width="1.2"/>
          <circle cx="12" cy="14" r="4" fill="#CE93D8" opacity="0.7"/>
          <circle cx="24" cy="14" r="4" fill="#CE93D8" opacity="0.5"/>
          <circle cx="18" cy="24" r="4" fill="#CE93D8" opacity="0.6"/>
        </g>
        
        <text x="55" y="26" fill="#fff" font-size="10" font-weight="600">fraud_patterns</text>
        <text x="55" y="40" fill="#CE93D8" font-size="8">Embeddings Historicos</text>
        
        <rect x="185" y="15" width="40" height="16" rx="8" fill="rgba(206,147,216,0.2)" stroke="#CE93D8" stroke-width="1"/>
        <text x="205" y="27" text-anchor="middle" fill="#CE93D8" font-size="7" font-weight="600">VEC</text>
        
        <g transform="translate(12, 55)">
          <text x="0" y="0" fill="#667" font-size="8">tx_id, embedding[1536]</text>
          <text x="0" y="14" fill="#667" font-size="8">fraud_type, fraud_confirmed</text>
          <text x="0" y="28" fill="#667" font-size="8">pattern_category</text>
          <text x="0" y="42" fill="#667" font-size="8">created_at, similarity_threshold</text>
        </g>
        
        <g transform="translate(12, 115)">
          <rect x="0" y="0" width="216" height="18" rx="5" fill="rgba(206,147,216,0.1)"/>
          <text x="108" y="12" text-anchor="middle" fill="#CE93D8" font-size="7">Index: vectorSearchIndex</text>
        </g>
      </g>
      
      <!-- COLECCIONES -->
      <text x="15" y="230" fill="#00ED64" font-size="10" font-weight="600">COLECCIONES DE DATOS</text>
      
      <!-- customer_state -->
      <g transform="translate(15, 245)" filter="url(#shadow)">
        <rect x="0" y="0" width="165" height="105" rx="10" fill="#1a2e35" stroke="rgba(0,237,100,0.5)" stroke-width="1.5"/>
        
        <g transform="translate(10, 12)">
          <path d="M0,7 C0,3 7,3 14,3 C21,3 28,3 28,7 L28,21 C28,25 21,25 14,25 C7,25 0,25 0,21 Z" fill="none" stroke="#00ED64" stroke-width="1.2"/>
          <ellipse cx="14" cy="7" rx="14" ry="4" fill="rgba(0,237,100,0.2)" stroke="#00ED64" stroke-width="1.2"/>
        </g>
        
        <text x="48" y="24" fill="#fff" font-size="10" font-weight="600">customer_state</text>
        <text x="48" y="38" fill="#00ED64" font-size="8">Estado Caliente</text>
        
        <rect x="120" y="12" width="35" height="14" rx="7" fill="#00ED64"/>
        <text x="137" y="23" text-anchor="middle" fill="#001E2B" font-size="6" font-weight="700">HOT</text>
        
        <g transform="translate(10, 50)">
          <text x="0" y="0" fill="#667" font-size="7">dispositivos_conocidos[]</text>
          <text x="0" y="12" fill="#667" font-size="7">ips_conocidas[]</text>
          <text x="0" y="24" fill="#667" font-size="7">contadores_velocidad{}</text>
          <text x="0" y="36" fill="#667" font-size="7">senales_riesgo[], ultima_geo</text>
        </g>
      </g>
      
      <!-- risk_rules_config -->
      <g transform="translate(190, 245)" filter="url(#shadow)">
        <rect x="0" y="0" width="165" height="105" rx="10" fill="#1a2e35" stroke="rgba(253,218,36,0.5)" stroke-width="1.5"/>
        
        <g transform="translate(10, 12)">
          <rect x="0" y="0" width="28" height="22" rx="4" fill="none" stroke="#FDDA24" stroke-width="1.2"/>
          <text x="14" y="16" text-anchor="middle" fill="#FDDA24" font-size="10" font-weight="700">{}</text>
        </g>
        
        <text x="48" y="24" fill="#fff" font-size="10" font-weight="600">risk_rules_config</text>
        <text x="48" y="38" fill="#FDDA24" font-size="8">Reglas Parametricas</text>
        
        <rect x="115" y="12" width="40" height="14" rx="7" fill="rgba(253,218,36,0.2)" stroke="#FDDA24" stroke-width="1"/>
        <text x="135" y="23" text-anchor="middle" fill="#FDDA24" font-size="6" font-weight="600">CFG</text>
        
        <g transform="translate(10, 50)">
          <text x="0" y="0" fill="#667" font-size="7">pesos: {monto: 3, geo: 2}</text>
          <text x="0" y="12" fill="#667" font-size="7">umbrales: {deny, stepup}</text>
          <text x="0" y="24" fill="#667" font-size="7">version, activo</text>
          <text x="0" y="36" fill="#667" font-size="7">actualizable sin deploy</text>
        </g>
      </g>
      
      <!-- final_outcome -->
      <g transform="translate(365, 245)" filter="url(#shadow)">
        <rect x="0" y="0" width="150" height="105" rx="10" fill="#1a2e35" stroke="rgba(255,183,77,0.5)" stroke-width="1.5"/>
        
        <g transform="translate(10, 12)">
          <circle cx="14" cy="12" r="11" fill="none" stroke="#FFB74D" stroke-width="1.2"/>
          <path d="M8,12 L12,16 L20,8" stroke="#FFB74D" stroke-width="1.5" fill="none" stroke-linecap="round"/>
        </g>
        
        <text x="48" y="24" fill="#fff" font-size="10" font-weight="600">final_outcome</text>
        <text x="48" y="38" fill="#FFB74D" font-size="8">Retroalimentacion</text>
        
        <rect x="100" y="12" width="40" height="14" rx="7" fill="rgba(255,183,77,0.2)" stroke="#FFB74D" stroke-width="1"/>
        <text x="120" y="23" text-anchor="middle" fill="#FFB74D" font-size="6" font-weight="600">LEARN</text>
        
        <g transform="translate(10, 50)">
          <text x="0" y="0" fill="#667" font-size="7">resultado_real</text>
          <text x="0" y="12" fill="#667" font-size="7">falso_positivo/negativo</text>
          <text x="0" y="24" fill="#667" font-size="7">fuente: contracargo</text>
          <text x="0" y="36" fill="#667" font-size="7">feedback_date</text>
        </g>
      </g>
      
      <!-- risk_evidence -->
      <g transform="translate(15, 365)" filter="url(#shadow)">
        <rect x="0" y="0" width="500" height="55" rx="10" fill="#1a2e35" stroke="rgba(100,181,246,0.5)" stroke-width="1.5"/>
        
        <g transform="translate(10, 10)">
          <rect x="0" y="0" width="26" height="20" rx="4" fill="none" stroke="#64B5F6" stroke-width="1.2"/>
          <text x="13" y="14" text-anchor="middle" fill="#64B5F6" font-size="8">ðŸ“‹</text>
        </g>
        
        <text x="48" y="22" fill="#fff" font-size="10" font-weight="600">risk_evidence</text>
        <text x="48" y="38" fill="#64B5F6" font-size="8">Auditoria Completa</text>
        
        <g transform="translate(170, 12)">
          <text x="0" y="0" fill="#667" font-size="7">tx_id, score_final, score_breakdown{}</text>
          <text x="0" y="12" fill="#667" font-size="7">reglas_activadas[], vector_matches[], explicacion</text>
          <text x="0" y="24" fill="#667" font-size="7">decision, latencia_ms, timestamp</text>
        </g>
      </g>
      
      <!-- Sizing Info -->
      <g transform="translate(15, 435)">
        <rect x="0" y="0" width="500" height="32" rx="8" fill="rgba(100,181,246,0.08)" stroke="rgba(100,181,246,0.2)" stroke-width="1"/>
        <text x="15" y="14" fill="#64B5F6" font-size="8" font-weight="600">SIZING:</text>
        <text x="65" y="14" fill="#889397" font-size="8">M50 (32GB) o M60 (64GB)</text>
        <text x="200" y="14" fill="#889397" font-size="8">2 Search Nodes</text>
        <text x="300" y="14" fill="#889397" font-size="8">~54GB Working Set</text>
        <text x="420" y="14" fill="#889397" font-size="8">~542GB Storage</text>
        <text x="250" y="26" text-anchor="middle" fill="#667" font-size="7">Inicio incremental: M40/M50 sin Search Nodes â†’ escalar despues</text>
      </g>
    </g>
  </g>
  
  <!-- ============================================ -->
  <!-- PASO 5: RESPUESTA -->
  <!-- ============================================ -->
  <g transform="translate(1340, 100)">
    <rect x="0" y="0" width="130" height="24" rx="6" fill="rgba(0,237,100,0.15)"/>
    <text x="12" y="16" fill="#00ED64" font-size="9" font-weight="700">PASO 5</text>
    <text x="60" y="16" fill="#889397" font-size="9">DECISION</text>
    
    <g transform="translate(0, 45)">
      <!-- Approve -->
      <g filter="url(#shadow)">
        <rect x="0" y="0" width="125" height="80" rx="12" fill="#1a2e35" stroke="#00ED64" stroke-width="2"/>
        <circle cx="35" cy="40" r="18" fill="#00ED64"/>
        <path d="M26,40 L32,46 L46,32" stroke="#001E2B" stroke-width="3" fill="none" stroke-linecap="round"/>
        <text x="70" y="36" fill="#00ED64" font-size="10" font-weight="700">APPROVE</text>
        <text x="70" y="50" fill="#889397" font-size="8">Aprobado</text>
      </g>
      
      <!-- Step-up -->
      <g transform="translate(0, 95)" filter="url(#shadow)">
        <rect x="0" y="0" width="125" height="80" rx="12" fill="#1a2e35" stroke="#FDDA24" stroke-width="2"/>
        <circle cx="35" cy="40" r="18" fill="#FDDA24"/>
        <text x="35" y="47" text-anchor="middle" fill="#001E2B" font-size="16" font-weight="700">!</text>
        <text x="70" y="36" fill="#FDDA24" font-size="10" font-weight="700">STEP-UP</text>
        <text x="70" y="50" fill="#889397" font-size="8">Verificar</text>
      </g>
      
      <!-- Deny -->
      <g transform="translate(0, 190)" filter="url(#shadow)">
        <rect x="0" y="0" width="125" height="80" rx="12" fill="#1a2e35" stroke="#FF6B6B" stroke-width="2"/>
        <circle cx="35" cy="40" r="18" fill="#FF6B6B"/>
        <path d="M26,31 L44,49 M44,31 L26,49" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round"/>
        <text x="70" y="36" fill="#FF6B6B" font-size="10" font-weight="700">DENY</text>
        <text x="70" y="50" fill="#889397" font-size="8">Rechazado</text>
      </g>
    </g>
    
    <!-- Response back label -->
    <g transform="translate(0, 295)">
      <rect x="0" y="0" width="125" height="35" rx="8" fill="rgba(100,181,246,0.1)" stroke="rgba(100,181,246,0.3)" stroke-width="1"/>
      <text x="62" y="14" text-anchor="middle" fill="#64B5F6" font-size="8" font-weight="600">Respuesta al API</text>
      <text x="62" y="26" text-anchor="middle" fill="#889397" font-size="7">â†’ Canal â†’ Cliente</text>
    </g>
  </g>
  
  <!-- ============================================ -->
  <!-- PASO 6: FEEDBACK LOOP -->
  <!-- ============================================ -->
  <g transform="translate(730, 680)">
    <rect x="0" y="0" width="280" height="24" rx="6" fill="rgba(255,183,77,0.15)"/>
    <text x="12" y="16" fill="#FFB74D" font-size="9" font-weight="700">PASO 6</text>
    <text x="60" y="16" fill="#889397" font-size="9">MEJORA CONTINUA (Semanal)</text>
    
    <g transform="translate(0, 35)" filter="url(#shadow)">
      <rect x="0" y="0" width="530" height="95" rx="14" fill="#1a2e35" stroke="url(#feedbackGrad)" stroke-width="2"/>
      <rect x="0" y="0" width="530" height="4" rx="2" fill="url(#feedbackGrad)"/>
      
      <!-- Icon -->
      <g transform="translate(18, 20)">
        <circle cx="22" cy="22" r="20" fill="rgba(255,183,77,0.15)" stroke="#FFB74D" stroke-width="2"/>
        <path d="M15,22 C15,15 22,11 29,15 M29,15 L25,15 L29,19" stroke="#FFB74D" stroke-width="2" fill="none" stroke-linecap="round"/>
        <path d="M29,22 C29,29 22,33 15,29 M15,29 L19,29 L15,25" stroke="#FFB74D" stroke-width="2" fill="none" stroke-linecap="round"/>
      </g>
      
      <text x="75" y="35" fill="#fff" font-size="11" font-weight="700">Loop de Retroalimentacion</text>
      <text x="75" y="52" fill="#FFB74D" font-size="9">Ajuste sin esperar 6 meses</text>
      
      <g transform="translate(75, 62)">
        <text x="0" y="0" fill="#889397" font-size="8">1. Resultado real llega (contracargo, reclamo, analista)</text>
        <text x="0" y="14" fill="#889397" font-size="8">2. Se registra en final_outcome con etiqueta</text>
        <text x="0" y="28" fill="#889397" font-size="8">3. Ajustar pesos en risk_rules_config + reentrenar Vector Search si necesario</text>
      </g>
      
      <!-- Arrow indicator -->
      <g transform="translate(430, 25)">
        <path d="M0,40 C40,40 60,15 60,-10" stroke="#FFB74D" stroke-width="2" fill="none" marker-end="url(#arrowFeedback)"/>
        <text x="65" y="12" fill="#FFB74D" font-size="7">Actualiza</text>
        <text x="65" y="22" fill="#FFB74D" font-size="7">rules_config</text>
      </g>
    </g>
  </g>
  
  <!-- ============================================ -->
  <!-- FLOW ARROWS -->
  <!-- ============================================ -->
  
  <!-- Canales to API -->
  <path d="M205,195 L260,230" stroke="#FDDA24" stroke-width="2.5" marker-end="url(#arrowYellow)" fill="none"/>
  <path d="M205,305 L260,270" stroke="#FDDA24" stroke-width="2.5" marker-end="url(#arrowYellow)" fill="none"/>
  
  <!-- API to Scoring Engine -->
  <path d="M415,250 L470,250" stroke="#64B5F6" stroke-width="2.5" marker-end="url(#arrowOrange)" fill="none"/>
  <g transform="translate(425, 232)">
    <rect x="0" y="0" width="35" height="14" rx="7" fill="rgba(100,181,246,0.2)"/>
    <text x="17" y="10" text-anchor="middle" fill="#64B5F6" font-size="6" font-weight="600">TX</text>
  </g>
  
  <!-- Scoring Engine to Atlas (multiple queries) -->
  <path d="M665,200 L720,200" stroke="#FF8A65" stroke-width="2" marker-end="url(#arrowGreen)" fill="none"/>
  <path d="M665,280 L720,280" stroke="#FF8A65" stroke-width="2" marker-end="url(#arrowGreen)" fill="none"/>
  <path d="M665,360 L720,360" stroke="#FF8A65" stroke-width="2" marker-end="url(#arrowGreen)" fill="none"/>
  
  <!-- Query labels -->
  <g transform="translate(672, 185)">
    <rect x="0" y="0" width="45" height="12" rx="6" fill="rgba(206,147,216,0.2)"/>
    <text x="22" y="9" text-anchor="middle" fill="#CE93D8" font-size="6">vector</text>
  </g>
  <g transform="translate(672, 268)">
    <rect x="0" y="0" width="45" height="12" rx="6" fill="rgba(0,237,100,0.2)"/>
    <text x="22" y="9" text-anchor="middle" fill="#00ED64" font-size="6">state</text>
  </g>
  <g transform="translate(672, 348)">
    <rect x="0" y="0" width="45" height="12" rx="6" fill="rgba(253,218,36,0.2)"/>
    <text x="22" y="9" text-anchor="middle" fill="#FDDA24" font-size="6">rules</text>
  </g>
  
  <!-- Atlas responses back (dashed) -->
  <path d="M720,220 L665,240" stroke="#00ED64" stroke-width="1.5" stroke-dasharray="4,2" fill="none"/>
  <path d="M720,300 L665,310" stroke="#00ED64" stroke-width="1.5" stroke-dasharray="4,2" fill="none"/>
  <path d="M720,380 L665,370" stroke="#00ED64" stroke-width="1.5" stroke-dasharray="4,2" fill="none"/>
  
  <!-- Scoring Engine to Response -->
  <path d="M665,420 C700,480 1200,520 1330,300" stroke="#FF8A65" stroke-width="2.5" marker-end="url(#arrowGreen)" fill="none"/>
  <g transform="translate(950, 470)">
    <rect x="0" y="0" width="55" height="16" rx="8" fill="rgba(255,138,101,0.2)"/>
    <text x="27" y="11" text-anchor="middle" fill="#FF8A65" font-size="7" font-weight="600">Decision</text>
  </g>
  
  <!-- Response back to API (dashed) -->
  <path d="M1340,380 C1250,500 800,550 415,300" stroke="#64B5F6" stroke-width="2" stroke-dasharray="6,3" marker-end="url(#arrowBlue)" fill="none"/>
  
  <!-- API back to Canales -->
  <path d="M270,280 L215,310" stroke="#00ED64" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowGreen)" fill="none"/>
  <path d="M270,230 L215,200" stroke="#00ED64" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowGreen)" fill="none"/>
  
  <!-- Feedback Loop arrow -->
  <path d="M1260,770 C1350,850 1450,700 1400,500 C1350,350 1200,300 1000,500 C900,600 850,650 800,650" 
        stroke="url(#feedbackGrad)" stroke-width="2" stroke-dasharray="8,4" marker-end="url(#arrowFeedback)" fill="none" filter="url(#glow)"/>
  
  <!-- ============================================ -->
  <!-- SEQUENCE NUMBERS -->
  <!-- ============================================ -->
  <g transform="translate(235, 185)">
    <circle cx="0" cy="0" r="10" fill="#FDDA24"/>
    <text x="0" y="4" text-anchor="middle" fill="#001E2B" font-size="8" font-weight="700">1</text>
  </g>
  
  <g transform="translate(442, 235)">
    <circle cx="0" cy="0" r="10" fill="#64B5F6"/>
    <text x="0" y="4" text-anchor="middle" fill="#001E2B" font-size="8" font-weight="700">2</text>
  </g>
  
  <g transform="translate(692, 165)">
    <circle cx="0" cy="0" r="10" fill="#FF8A65"/>
    <text x="0" y="4" text-anchor="middle" fill="#001E2B" font-size="8" font-weight="700">3</text>
  </g>
  
  <g transform="translate(1020, 490)">
    <circle cx="0" cy="0" r="10" fill="#00ED64"/>
    <text x="0" y="4" text-anchor="middle" fill="#001E2B" font-size="8" font-weight="700">4</text>
  </g>
  
  <!-- ============================================ -->
  <!-- LEGEND -->
  <!-- ============================================ -->
  <g transform="translate(1540, 440)">
    <rect x="0" y="0" width="170" height="175" rx="12" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
    <text x="15" y="20" fill="#fff" font-size="10" font-weight="600">Leyenda</text>
    
    <g transform="translate(15, 38)">
      <line x1="0" y1="5" x2="22" y2="5" stroke="#FDDA24" stroke-width="2.5"/>
      <text x="30" y="9" fill="#889397" font-size="8">Canales</text>
    </g>
    <g transform="translate(15, 56)">
      <line x1="0" y1="5" x2="22" y2="5" stroke="#64B5F6" stroke-width="2.5"/>
      <text x="30" y="9" fill="#889397" font-size="8">API Monitoreo</text>
    </g>
    <g transform="translate(15, 74)">
      <line x1="0" y1="5" x2="22" y2="5" stroke="#FF8A65" stroke-width="2.5"/>
      <text x="30" y="9" fill="#889397" font-size="8">Scoring Engine</text>
    </g>
    <g transform="translate(15, 92)">
      <line x1="0" y1="5" x2="22" y2="5" stroke="#00ED64" stroke-width="2.5"/>
      <text x="30" y="9" fill="#889397" font-size="8">Atlas Data</text>
    </g>
    <g transform="translate(15, 110)">
      <line x1="0" y1="5" x2="22" y2="5" stroke="#CE93D8" stroke-width="2.5"/>
      <text x="30" y="9" fill="#889397" font-size="8">Vector Search</text>
    </g>
    <g transform="translate(15, 128)">
      <line x1="0" y1="5" x2="22" y2="5" stroke="#FFB74D" stroke-width="2" stroke-dasharray="5,3"/>
      <text x="30" y="9" fill="#889397" font-size="8">Feedback Loop</text>
    </g>
    <g transform="translate(15, 146)">
      <line x1="0" y1="5" x2="22" y2="5" stroke="#00ED64" stroke-width="1.5" stroke-dasharray="4,2"/>
      <text x="30" y="9" fill="#889397" font-size="8">Response</text>
    </g>
  </g>
  
  <!-- ============================================ -->
  <!-- LATENCY BREAKDOWN -->
  <!-- ============================================ -->
  <g transform="translate(50, 850)">
    <rect x="0" y="0" width="700" height="70" rx="12" fill="rgba(0,237,100,0.03)" stroke="rgba(0,237,100,0.15)" stroke-width="1"/>
    <text x="20" y="20" fill="#00ED64" font-size="10" font-weight="600">DESGLOSE DE LATENCIA (Total &lt;500ms)</text>
    
    <g transform="translate(20, 35)">
      <rect x="0" y="0" width="80" height="22" rx="6" fill="rgba(253,218,36,0.15)"/>
      <text x="40" y="15" text-anchor="middle" fill="#FDDA24" font-size="8" font-weight="600">Canales</text>
    </g>
    <text x="90" y="48" fill="#889397" font-size="10">â†’</text>
    
    <g transform="translate(105, 35)">
      <rect x="0" y="0" width="95" height="22" rx="6" fill="rgba(100,181,246,0.15)"/>
      <text x="47" y="10" text-anchor="middle" fill="#64B5F6" font-size="7">API Monitoreo</text>
      <text x="47" y="19" text-anchor="middle" fill="#64B5F6" font-size="7" font-weight="600">~30ms</text>
    </g>
    <text x="210" y="48" fill="#889397" font-size="10">â†’</text>
    
    <g transform="translate(225, 35)">
      <rect x="0" y="0" width="115" height="22" rx="6" fill="rgba(255,138,101,0.15)"/>
      <text x="57" y="10" text-anchor="middle" fill="#FF8A65" font-size="7">Scoring Engine</text>
      <text x="57" y="19" text-anchor="middle" fill="#FF8A65" font-size="7" font-weight="600">~50-80ms + queries</text>
    </g>
    <text x="350" y="48" fill="#889397" font-size="10">â†’</text>
    
    <g transform="translate(365, 35)">
      <rect x="0" y="0" width="115" height="22" rx="6" fill="rgba(0,237,100,0.15)"/>
      <text x="57" y="10" text-anchor="middle" fill="#00ED64" font-size="7">Atlas Queries (x3)</text>
      <text x="57" y="19" text-anchor="middle" fill="#00ED64" font-size="7" font-weight="600">~30-50ms c/u</text>
    </g>
    <text x="490" y="48" fill="#889397" font-size="10">â†’</text>
    
    <g transform="translate(505, 35)">
      <rect x="0" y="0" width="80" height="22" rx="6" fill="rgba(0,237,100,0.15)"/>
      <text x="40" y="10" text-anchor="middle" fill="#00ED64" font-size="7">Response</text>
      <text x="40" y="19" text-anchor="middle" fill="#00ED64" font-size="7" font-weight="600">~10ms</text>
    </g>
    
    <g transform="translate(600, 35)">
      <rect x="0" y="0" width="85" height="22" rx="6" fill="rgba(0,237,100,0.3)" stroke="#00ED64" stroke-width="1"/>
      <text x="42" y="10" text-anchor="middle" fill="#00ED64" font-size="7">TOTAL</text>
      <text x="42" y="19" text-anchor="middle" fill="#00ED64" font-size="8" font-weight="700">~250-350ms</text>
    </g>
  </g>
  
  <!-- Key Architecture Note -->
  <g transform="translate(770, 850)">
    <rect x="0" y="0" width="400" height="70" rx="12" fill="rgba(255,138,101,0.05)" stroke="rgba(255,138,101,0.2)" stroke-width="1"/>
    <text x="20" y="20" fill="#FF8A65" font-size="10" font-weight="600">ARQUITECTURA MICROSERVICIOS - VENTAJAS CLAVE</text>
    <g transform="translate(20, 35)">
      <text x="0" y="0" fill="#889397" font-size="8">â€¢ Scoring Engine independiente: deploy sin tocar Atlas</text>
      <text x="0" y="14" fill="#889397" font-size="8">â€¢ Equipo Analytics itera logica en Java/Python (no aggregation pipelines)</text>
      <text x="0" y="28" fill="#889397" font-size="8">â€¢ Unit tests aislados, CI/CD estandar, integracion futura de ML models</text>
    </g>
  </g>
  
  <!-- Footer -->
  <g transform="translate(50, 1040)">
    <rect x="0" y="0" width="1800" height="35" rx="8" fill="rgba(0,237,100,0.03)" stroke="rgba(0,237,100,0.1)" stroke-width="1"/>
    <text x="20" y="22" fill="#889397" font-size="9">QueryFlux | Motor Hibrido de Deteccion de Fraude | Bancolombia x MongoDB Atlas | Arquitectura Produccion v1.0 - Microservicios</text>
    <text x="1780" y="22" text-anchor="end" fill="#00ED64" font-size="9" font-weight="600">Confidencial</text>
  </g>
  
</svg>
