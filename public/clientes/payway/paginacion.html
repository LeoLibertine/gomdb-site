<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payway - Soluci√≥n MongoDB para Paginaci√≥n Sin L√≠mites</title>
    <link rel="stylesheet" href="../../styles/gomdb-global.css">
    <style>
        /* Estilos espec√≠ficos para esta presentaci√≥n */
        .problem-highlight {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .solution-highlight {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 237, 100, 0.05) 100%);
            border: 1px solid rgba(0, 237, 100, 0.3);
        }
        
        .comparison-table {
            background-color: var(--color-bg-card);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-lg);
            overflow: hidden;
        }
        
        .table-header {
            background-color: var(--color-bg-secondary);
            padding: var(--spacing-lg);
            font-weight: 700;
        }
        
        .table-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: var(--spacing-md);
            padding: var(--spacing-lg);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .code-snippet {
            background-color: var(--color-bg-tertiary);
            border: 1px solid rgba(0, 237, 100, 0.3);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            font-family: var(--font-mono);
            overflow-x: auto;
            position: relative;
        }
        
        .code-snippet::before {
            content: 'MongoDB JavaScript';
            position: absolute;
            top: var(--spacing-sm);
            right: var(--spacing-md);
            background-color: var(--color-primary);
            color: var(--color-text-dark);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
            font-weight: 600;
        }
        
        .interactive-demo {
            background: linear-gradient(135deg, var(--color-bg-secondary) 0%, rgba(13, 42, 61, 0.8) 100%);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            margin: var(--spacing-xl) 0;
        }
        
        .progress-bar {
            background-color: var(--color-bg-tertiary);
            border-radius: var(--radius-full);
            height: 8px;
            overflow: hidden;
            margin: var(--spacing-md) 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-accent) 100%);
            border-radius: var(--radius-full);
            transition: width var(--transition-slow);
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin: var(--spacing-xl) 0;
        }
        
        .limitation-box {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
            border: 2px solid rgba(239, 68, 68, 0.3);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
        }
        
        .solution-box {
            background: linear-gradient(135deg, rgba(0, 237, 100, 0.1) 0%, rgba(0, 237, 100, 0.05) 100%);
            border: 2px solid rgba(0, 237, 100, 0.3);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
        }
        
        .analogy-section {
            background: linear-gradient(135deg, var(--color-accent-light) 0%, rgba(86, 68, 212, 0.05) 100%);
            border: 1px solid rgba(86, 68, 212, 0.3);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            margin: var(--spacing-xl) 0;
        }
        
        .chef-emoji {
            font-size: var(--text-4xl);
            text-align: center;
            margin-bottom: var(--spacing-md);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-container">
                <div class="navbar-logo">
                    <span class="text-gradient">MongoDB</span>
                    <span>Payway</span>
                </div>
                <div class="navbar-links">
                    <a href="#problema" class="navbar-link">El Desaf√≠o</a>
                    <a href="#solucion" class="navbar-link">Soluci√≥n MongoDB</a>
                    <a href="#demo" class="navbar-link">Demostraci√≥n</a>
                    <a href="#beneficios" class="navbar-link">Beneficios</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-background"></div>
        <div class="hero-blur hero-blur-primary"></div>
        <div class="hero-blur hero-blur-accent"></div>
        
        <div class="container">
            <div class="text-center">
                <div class="badge badge-primary mb-4">
                    üöß Desaf√≠o T√©cnico Cr√≠tico
                </div>
                <h1 class="text-gradient mb-4">
                    Eliminando el L√≠mite de 10,000 Registros
                </h1>
                <h2 class="mb-6">
                    MongoDB Atlas: La Soluci√≥n para Reportes Masivos sin Restricciones
                </h2>
                <p class="text-xl mb-6" style="max-width: 800px; margin: 0 auto;">
                    Descubre c√≥mo MongoDB Atlas resuelve fundamentalmente el desaf√≠o de paginaci√≥n sobre grandes vol√∫menes de datos, eliminando el l√≠mite de 10,000 registros presente en OpenSearch y habilitando la generaci√≥n de reportes masivos.
                </p>
                <div class="flex justify-center gap-4">
                    <a href="#problema" class="btn btn-primary btn-lg">Ver el Desaf√≠o</a>
                    <a href="#solucion" class="btn btn-secondary btn-lg">Explorar Soluci√≥n</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Problem Section -->
    <section id="problema" class="section">
        <div class="container">
            <div class="text-center mb-6">
                <div class="badge badge-secondary mb-3">üöß El Problema Actual</div>
                <h2 class="text-gradient mb-4">El L√≠mite de Paginaci√≥n en OpenSearch</h2>
                <p class="text-lg text-secondary">
                    El equipo de Payway identific√≥ un bloqueo t√©cnico significativo en su arquitectura actual
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="card problem-highlight">
                    <h3 class="mb-3">‚ö†Ô∏è El Problema T√©cnico</h3>
                    <p class="mb-4">
                        OpenSearch impone un l√≠mite en la suma de los par√°metros de paginaci√≥n <code>(from + size)</code>, previniendo consultas a p√°ginas "profundas" en el conjunto de datos.
                    </p>
                    <div class="limitation-box">
                        <div class="metric-value" style="color: #EF4444;">10,000</div>
                        <div class="metric-label">L√≠mite m√°ximo de registros</div>
                    </div>
                </div>

                <div class="card problem-highlight">
                    <h3 class="mb-3">üíº El Impacto de Negocio</h3>
                    <p class="mb-4">
                        Este l√≠mite representa un bloqueo insuperable para la generaci√≥n de reportes a gran escala. El proceso de exportaci√≥n en lotes no puede acceder a registros m√°s all√° de esta marca.
                    </p>
                    <div class="limitation-box">
                        <div class="metric-value" style="color: #EF4444;">‚àû</div>
                        <div class="metric-label">Reportes masivos bloqueados</div>
                    </div>
                </div>
            </div>

            <div class="card card-bordered">
                <h3 class="mb-3">üîç ¬øPor Qu√© Existe Este L√≠mite?</h3>
                <p class="mb-4">
                    La raz√≥n de este l√≠mite en sistemas como OpenSearch es que "saltar" un gran n√∫mero de documentos es una operaci√≥n de alto costo que puede impactar el rendimiento del cl√∫ster, ya que requiere cargar y descartar todos los registros previos en cada solicitud.
                </p>
                <div class="text-center">
                    <div class="badge badge-secondary">
                        index.max_result_window = 10,000 (configuraci√≥n por defecto)
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Solution Section -->
    <section id="solucion" class="section" style="background-color: var(--color-bg-secondary);">
        <div class="container">
            <div class="text-center mb-6">
                <div class="badge badge-primary mb-3">‚úÖ La Soluci√≥n</div>
                <h2 class="text-gradient mb-4">MongoDB Atlas: Arquitectura para Escalabilidad</h2>
                <p class="text-lg text-secondary">
                    MongoDB Atlas est√° dise√±ado para manejar grandes vol√∫menes de datos de manera nativa
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="card solution-highlight">
                    <h3 class="mb-3">üìÑ Paginaci√≥n Tradicional</h3>
                    <h4 class="text-primary mb-2">Flexibilidad con $skip y $limit</h4>
                    <p class="mb-4">
                        MongoDB no impone un l√≠mite artificial en la profundidad de la paginaci√≥n. Utilizando los operadores <code>$skip</code> y <code>$limit</code> dentro del Aggregation Framework.
                    </p>
                    <div class="solution-box">
                        <div class="metric-value">‚àû</div>
                        <div class="metric-label">Sin l√≠mites de paginaci√≥n</div>
                    </div>
                </div>

                <div class="card solution-highlight">
                    <h3 class="mb-3">üöÄ Paginaci√≥n de Alto Rendimiento</h3>
                    <h4 class="text-primary mb-2">El M√©todo Keyset para Escalabilidad Extrema</h4>
                    <p class="mb-4">
                        T√©cnica superior conocida como Keyset Pagination (o "Seek Method"). Se proporciona un "marcador" del √∫ltimo documento visto en lugar de contar documentos.
                    </p>
                    <div class="solution-box">
                        <div class="metric-value">‚ö°</div>
                        <div class="metric-label">Rendimiento constante</div>
                    </div>
                </div>
            </div>

            <!-- Comparison Table -->
            <div class="comparison-table mb-6">
                <div class="table-header text-center">
                    <h3>Comparaci√≥n: OpenSearch vs MongoDB Atlas</h3>
                </div>
                <div class="table-row" style="background-color: var(--color-bg-tertiary); font-weight: 600;">
                    <div>Caracter√≠stica</div>
                    <div style="color: #EF4444;">OpenSearch</div>
                    <div style="color: var(--color-primary);">MongoDB Atlas</div>
                </div>
                <div class="table-row">
                    <div>L√≠mite de Paginaci√≥n</div>
                    <div style="color: #EF4444;">10,000 registros</div>
                    <div style="color: var(--color-primary);">Sin l√≠mites</div>
                </div>
                <div class="table-row">
                    <div>Reportes Masivos</div>
                    <div style="color: #EF4444;">‚ùå Bloqueados</div>
                    <div style="color: var(--color-primary);">‚úÖ Habilitados</div>
                </div>
                <div class="table-row">
                    <div>Rendimiento en P√°ginas Profundas</div>
                    <div style="color: #EF4444;">Se degrada</div>
                    <div style="color: var(--color-primary);">Constante con Keyset</div>
                </div>
                <div class="table-row">
                    <div>Flexibilidad</div>
                    <div style="color: #EF4444;">Limitada</div>
                    <div style="color: var(--color-primary);">Total</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Section -->
    <section id="demo" class="section">
        <div class="container">
            <div class="text-center mb-6">
                <div class="badge badge-primary mb-3">üíª Demostraci√≥n Pr√°ctica</div>
                <h2 class="text-gradient mb-4">C√≥digo MongoDB en Acci√≥n</h2>
                <p class="text-lg text-secondary">
                    La soluci√≥n al bloqueo se demuestra con una simple consulta de agregaci√≥n
                </p>
            </div>

            <div class="interactive-demo">
                <h3 class="mb-4">üîì Desbloqueando los 10,000+ Registros</h3>
                <p class="mb-4">
                    Consulta para obtener 100 registros, empezando desde la posici√≥n 10,001:
                </p>
                
                <div class="code-snippet mb-4">
<pre style="color: var(--color-text-primary); margin: 0;">
<span style="color: #6B7280;">// Consulta para obtener 100 registros, empezando desde la posici√≥n 10,001</span>
<span style="color: var(--color-text-secondary);">db.transacciones.aggregate</span>([
  <span style="color: #6B7280;">// 1. Es crucial ordenar primero para una paginaci√≥n consistente</span>
  { <span style="color: var(--color-primary);">$sort</span>: { <span style="color: var(--color-accent);">timestamp</span>: <span style="color: #F59E0B;">-1</span> } },

  <span style="color: #6B7280;">// 2. Nos saltamos los 10,000 registros que OpenSearch limita</span>
  { <span style="color: var(--color-primary);">$skip</span>: <span style="color: #F59E0B;">10000</span> },

  <span style="color: #6B7280;">// 3. Devolvemos la siguiente "p√°gina" de 100 resultados</span>
  { <span style="color: var(--color-primary);">$limit</span>: <span style="color: #F59E0B;">100</span> }
]);
</pre>
                </div>

                <div class="flex justify-center mb-4">
                    <div class="btn btn-primary" onclick="simulatePagination()" style="cursor: pointer;">
                        ‚ñ∂Ô∏è Simular Paginaci√≥n MongoDB
                    </div>
                </div>

                <div id="pagination-demo" class="card" style="display: none;">
                    <h4 class="mb-3">üìä Resultados de la Simulaci√≥n</h4>
                    <div class="progress-bar mb-3">
                        <div class="progress-fill" id="progress" style="width: 0%"></div>
                    </div>
                    <div id="demo-results" class="text-center">
                        <div class="metric-grid">
                            <div class="metric">
                                <div class="metric-value" id="current-record">0</div>
                                <div class="metric-label">Registro Actual</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="total-records">1,000,000</div>
                                <div class="metric-label">Total de Registros</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="page-number">0</div>
                                <div class="metric-label">P√°gina Actual</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Memory Analogy Section -->
    <section class="section" style="background-color: var(--color-bg-secondary);">
        <div class="container">
            <div class="analogy-section">
                <div class="text-center mb-6">
                    <div class="chef-emoji">üë®‚Äçüç≥</div>
                    <h2 class="text-gradient mb-4">Analog√≠a de la Cocina: El "Working Set"</h2>
                    <p class="text-lg">
                        Entendiendo c√≥mo MongoDB maneja la memoria de manera inteligente
                    </p>
                </div>

                <div class="grid md:grid-cols-3 gap-6 mb-6">
                    <div class="card">
                        <h4 class="text-primary mb-3">üçΩÔ∏è La Mesa de Trabajo (RAM)</h4>
                        <p>
                            La memoria RAM es la mesa de trabajo de un chef donde coloca los ingredientes y herramientas que usa constantemente para cocinar muy r√°pido.
                        </p>
                    </div>
                    
                    <div class="card">
                        <h4 class="text-primary mb-3">üè™ La Despensa (Disco Duro)</h4>
                        <p>
                            El disco duro es la despensa donde se guardan todos los ingredientes. Si necesita algo raro, tiene que ir a buscarla (m√°s lento).
                        </p>
                    </div>
                    
                    <div class="card">
                        <h4 class="text-primary mb-3">üìã Working Set</h4>
                        <p>
                            Es la porci√≥n de datos e √≠ndices que se accede con m√°s frecuencia. MongoDB trata de mantener todo el Working Set en RAM.
                        </p>
                    </div>
                </div>

                <div class="card card-bordered text-center">
                    <h3 class="mb-3">üéØ La Pregunta Clave</h3>
                    <p class="text-xl mb-4">
                        No es "¬øcu√°ntos registros caben?", sino: <br>
                        <span class="text-gradient">"¬øTengo suficiente RAM para mi Working Set?"</span>
                    </p>
                    <div class="badge badge-primary">
                        Si tus consultas frecuentes operan sobre 20 GB ‚Üí necesitas m√°s de 20 GB de RAM
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section id="beneficios" class="section">
        <div class="container">
            <div class="text-center mb-6">
                <div class="badge badge-primary mb-3">üéØ Beneficios para Payway</div>
                <h2 class="text-gradient mb-4">Resumen de Beneficios</h2>
            </div>

            <div class="metric-grid">
                <div class="card metric mongodb-glow">
                    <div class="metric-value">üîì</div>
                    <div class="metric-label">Desbloqueo de Casos de Uso Cr√≠ticos</div>
                    <p class="mt-3 text-sm">
                        Habilita la generaci√≥n de reportes masivos sin l√≠mites
                    </p>
                </div>

                <div class="card metric mongodb-glow">
                    <div class="metric-value">üéõÔ∏è</div>
                    <div class="metric-label">Flexibilidad Total</div>
                    <p class="mt-3 text-sm">
                        M√∫ltiples estrategias de paginaci√≥n para diferentes necesidades
                    </p>
                </div>

                <div class="card metric mongodb-glow">
                    <div class="metric-value">üèóÔ∏è</div>
                    <div class="metric-label">Arquitectura a Prueba de Futuro</div>
                    <p class="mt-3 text-sm">
                        Herramientas para sistemas de alto rendimiento escalables
                    </p>
                </div>

                <div class="card metric mongodb-glow">
                    <div class="metric-value">‚ö°</div>
                    <div class="metric-label">Eficiencia Superior</div>
                    <p class="mt-3 text-sm">
                        Keyset evita degradaci√≥n de rendimiento en paginaci√≥n profunda
                    </p>
                </div>
            </div>

            <div class="card card-gradient text-center mt-6">
                <h3 class="text-gradient mb-4">Conclusi√≥n</h3>
                <p class="text-xl mb-4">
                    MongoDB Atlas no solo elimina la limitaci√≥n actual de paginaci√≥n, sino que proporciona un conjunto de herramientas robustas y escalables para garantizar que los requisitos de acceso a datos de Payway puedan cumplirse de manera eficiente y fiable.
                </p>
                <div class="flex justify-center gap-4">
                    <a href="#demo" class="btn btn-primary">Ver Demostraci√≥n</a>
                    <a href="#" class="btn btn-secondary">Contactar Equipo</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="section" style="background-color: var(--color-bg-tertiary);">
        <div class="container text-center">
            <div class="text-gradient text-2xl mb-4">MongoDB</div>
            <p class="text-secondary mb-4">
                Arquitectura MongoDB para Latinoam√©rica - Soluciones Escalables para Payway
            </p>
            <div class="badge badge-secondary">
                Sistema de Dise√±o Global - MongoDB Atlas
            </div>
        </div>
    </footer>

    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('navbar-scrolled');
            } else {
                navbar.classList.remove('navbar-scrolled');
            }
        });

        // Pagination simulation
        function simulatePagination() {
            const demoSection = document.getElementById('pagination-demo');
            const progressBar = document.getElementById('progress');
            const currentRecord = document.getElementById('current-record');
            const pageNumber = document.getElementById('page-number');
            
            demoSection.style.display = 'block';
            
            let record = 0;
            let page = 0;
            const totalRecords = 1000000;
            const recordsPerPage = 100;
            const targetRecord = 50000; // Simulate going to record 50,000
            
            const interval = setInterval(() => {
                record += 1000;
                page = Math.floor(record / recordsPerPage);
                
                currentRecord.textContent = record.toLocaleString();
                pageNumber.textContent = page;
                progressBar.style.width = ((record / targetRecord) * 100) + '%';
                
                if (record >= targetRecord) {
                    clearInterval(interval);
                    currentRecord.style.color = 'var(--color-primary)';
                    pageNumber.style.color = 'var(--color-primary)';
                    
                    // Show success message
                    setTimeout(() => {
                        const successBadge = document.createElement('div');
                        successBadge.className = 'badge badge-primary mt-3';
                        successBadge.innerHTML = '‚úÖ ¬°Paginaci√≥n exitosa m√°s all√° de 10,000 registros!';
                        document.getElementById('demo-results').appendChild(successBadge);
                    }, 500);
                }
            }, 50);
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-fadeIn');
                }
            });
        }, observerOptions);

        // Observe all cards and sections
        document.querySelectorAll('.card, .metric').forEach(el => {
            observer.observe(el);
        });
    </script>
</body>
</html>