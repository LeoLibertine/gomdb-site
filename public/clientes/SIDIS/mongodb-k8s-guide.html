<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB Enterprise en Kubernetes | Guía de Arquitectura GKE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Euclid+Circular+A:wght@400;500;600;700&family=Source+Code+Pro:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --mongo-green-light: #00ed64;
            --mongo-green: #00684a;
            --mongo-green-dark: #023430;
            --mongo-black: #001e2b;
            --mongo-white: #ffffff;
            --mongo-gray-light: #e8edeb;
            --mongo-gray: #889397;
            --mongo-red: #cf4a22;
            --mongo-yellow: #ffc010;
            --mongo-blue: #016bf8;
            --gradient-primary: linear-gradient(135deg, var(--mongo-green-dark) 0%, var(--mongo-black) 100%);
            --gradient-glow: linear-gradient(135deg, var(--mongo-green-light) 0%, var(--mongo-green) 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Euclid Circular A', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--mongo-black);
            color: var(--mongo-white);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.4;
        }

        .bg-pattern::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 80%, var(--mongo-green-dark) 0%, transparent 25%),
                radial-gradient(circle at 80% 20%, var(--mongo-green) 0%, transparent 20%),
                radial-gradient(circle at 40% 40%, rgba(0, 237, 100, 0.1) 0%, transparent 30%);
            animation: bgFloat 20s ease-in-out infinite;
        }

        @keyframes bgFloat {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(2%, 2%) rotate(1deg); }
            66% { transform: translate(-1%, 1%) rotate(-0.5deg); }
        }

        /* Grid Pattern Overlay */
        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background-image: 
                linear-gradient(rgba(0, 237, 100, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 237, 100, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 1rem 2rem;
            background: rgba(0, 30, 43, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 237, 100, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo svg {
            height: 40px;
            width: auto;
        }

        .logo-text {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--mongo-white);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--mongo-gray);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--mongo-green-light);
            transition: width 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--mongo-green-light);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 8rem 2rem 4rem;
            position: relative;
            z-index: 2;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 237, 100, 0.1);
            border: 1px solid rgba(0, 237, 100, 0.3);
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 0.85rem;
            color: var(--mongo-green-light);
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease;
        }

        .hero-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--mongo-green-light);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 700;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            animation: fadeInUp 0.8s ease 0.1s backwards;
        }

        .hero h1 .gradient-text {
            background: var(--gradient-glow);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--mongo-gray);
            max-width: 700px;
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease 0.2s backwards;
        }

        .hero-icons {
            display: flex;
            gap: 3rem;
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease 0.3s backwards;
        }

        .hero-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .hero-icon svg {
            width: 48px;
            height: 48px;
            padding: 10px;
            background: rgba(0, 237, 100, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .hero-icon:hover svg {
            background: rgba(0, 237, 100, 0.2);
            transform: translateY(-4px);
        }

        .hero-icon span {
            font-size: 0.8rem;
            color: var(--mongo-gray);
        }

        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: var(--mongo-gray);
            font-size: 0.75rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Main Content */
        main {
            position: relative;
            z-index: 2;
        }

        section {
            padding: 6rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Section Headers */
        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-number {
            display: inline-block;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--mongo-green-light);
            background: rgba(0, 237, 100, 0.1);
            padding: 6px 14px;
            border-radius: 50px;
            margin-bottom: 1rem;
            letter-spacing: 2px;
        }

        .section-header h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .section-header p {
            color: var(--mongo-gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Problem/Solution Cards */
        .problem-solution {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .card {
            background: rgba(0, 30, 43, 0.6);
            border: 1px solid rgba(0, 237, 100, 0.1);
            border-radius: 16px;
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-glow);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s ease;
        }

        .card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 237, 100, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .card-icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .card-icon.danger {
            background: rgba(207, 74, 34, 0.15);
            color: var(--mongo-red);
        }

        .card-icon.success {
            background: rgba(0, 237, 100, 0.15);
            color: var(--mongo-green-light);
        }

        .card-icon svg {
            width: 28px;
            height: 28px;
        }

        .card h3 {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .card p {
            color: var(--mongo-gray);
            margin-bottom: 1rem;
        }

        /* Code Block */
        .code-block {
            background: var(--mongo-black);
            border: 1px solid rgba(0, 237, 100, 0.2);
            border-radius: 12px;
            overflow: hidden;
            margin: 2rem 0;
        }

        .code-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            background: rgba(0, 237, 100, 0.05);
            border-bottom: 1px solid rgba(0, 237, 100, 0.1);
        }

        .code-header span {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            color: var(--mongo-green-light);
        }

        .code-dots {
            display: flex;
            gap: 6px;
        }

        .code-dots span {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .code-dots span:nth-child(1) { background: #ff5f57; }
        .code-dots span:nth-child(2) { background: #ffbd2e; }
        .code-dots span:nth-child(3) { background: #28c940; }

        .code-content {
            padding: 1.5rem;
            overflow-x: auto;
        }

        .code-content pre {
            font-family: 'Source Code Pro', monospace;
            font-size: 0.9rem;
            line-height: 1.8;
            color: var(--mongo-gray-light);
        }

        .code-content .keyword { color: var(--mongo-blue); }
        .code-content .string { color: var(--mongo-green-light); }
        .code-content .comment { color: var(--mongo-gray); font-style: italic; }
        .code-content .property { color: #c792ea; }
        .code-content .value { color: var(--mongo-yellow); }

        /* Architecture Diagram */
        .diagram-container {
            background: rgba(0, 30, 43, 0.6);
            border: 1px solid rgba(0, 237, 100, 0.1);
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem 0;
        }

        .diagram {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            align-items: center;
        }

        .diagram-row {
            display: flex;
            gap: 3rem;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        .diagram-box {
            background: var(--mongo-black);
            border: 2px solid rgba(0, 237, 100, 0.3);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            text-align: center;
            min-width: 180px;
            position: relative;
            transition: all 0.3s ease;
        }

        .diagram-box:hover {
            border-color: var(--mongo-green-light);
            box-shadow: 0 0 30px rgba(0, 237, 100, 0.2);
            transform: scale(1.05);
        }

        .diagram-box.gke {
            border-color: var(--mongo-blue);
            background: rgba(1, 107, 248, 0.1);
        }

        .diagram-box.gcs {
            border-color: var(--mongo-yellow);
            background: rgba(255, 192, 16, 0.1);
        }

        .diagram-box.mongodb {
            border-color: var(--mongo-green-light);
            background: rgba(0, 237, 100, 0.1);
        }

        .diagram-box h4 {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .diagram-box span {
            font-size: 0.75rem;
            color: var(--mongo-gray);
        }

        .diagram-arrow {
            color: var(--mongo-green-light);
            font-size: 2rem;
            animation: arrowPulse 1.5s infinite;
        }

        .diagram-arrow.down {
            transform: rotate(90deg);
        }

        @keyframes arrowPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        /* Backup Flow Section */
        .backup-flow {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }

        .flow-step {
            background: rgba(0, 30, 43, 0.6);
            border: 1px solid rgba(0, 237, 100, 0.1);
            border-radius: 16px;
            padding: 2rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .flow-step:hover {
            border-color: rgba(0, 237, 100, 0.3);
            transform: translateY(-4px);
        }

        .flow-step-number {
            position: absolute;
            top: -12px;
            left: 24px;
            background: var(--mongo-green-light);
            color: var(--mongo-black);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .flow-step h4 {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            margin-top: 0.5rem;
        }

        .flow-step p {
            color: var(--mongo-gray);
            font-size: 0.95rem;
        }

        /* Config Table */
        .config-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: rgba(0, 30, 43, 0.6);
            border-radius: 12px;
            overflow: hidden;
        }

        .config-table th,
        .config-table td {
            padding: 1.25rem 1.5rem;
            text-align: left;
            border-bottom: 1px solid rgba(0, 237, 100, 0.1);
        }

        .config-table th {
            background: rgba(0, 237, 100, 0.1);
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--mongo-green-light);
        }

        .config-table td {
            font-size: 0.95rem;
        }

        .config-table td:first-child {
            font-family: 'Source Code Pro', monospace;
            color: var(--mongo-yellow);
        }

        .config-table td:last-child {
            color: var(--mongo-gray);
        }

        .config-table tr:hover td {
            background: rgba(0, 237, 100, 0.05);
        }

        /* Operational Model */
        .model-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .model-card {
            background: rgba(0, 30, 43, 0.6);
            border: 1px solid rgba(0, 237, 100, 0.1);
            border-radius: 16px;
            padding: 2.5rem;
            position: relative;
        }

        .model-card.traditional {
            border-top: 3px solid var(--mongo-gray);
        }

        .model-card.kubernetes {
            border-top: 3px solid var(--mongo-green-light);
        }

        .model-badge {
            display: inline-block;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 50px;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .model-card.traditional .model-badge {
            background: rgba(136, 147, 151, 0.2);
            color: var(--mongo-gray);
        }

        .model-card.kubernetes .model-badge {
            background: rgba(0, 237, 100, 0.15);
            color: var(--mongo-green-light);
        }

        .model-card h4 {
            font-size: 1.3rem;
            margin-bottom: 0.75rem;
        }

        .model-card p {
            color: var(--mongo-gray);
            margin-bottom: 1.5rem;
        }

        .model-list {
            list-style: none;
        }

        .model-list li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            color: var(--mongo-gray-light);
        }

        .model-list li svg {
            flex-shrink: 0;
            margin-top: 4px;
        }

        /* CTA Section */
        .cta-section {
            background: var(--gradient-primary);
            border-radius: 24px;
            padding: 4rem;
            text-align: center;
            margin: 4rem 0;
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 60%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 237, 100, 0.15) 0%, transparent 60%);
            animation: ctaGlow 8s ease-in-out infinite;
        }

        @keyframes ctaGlow {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(-10%, 10%); }
        }

        .cta-section h2 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .cta-section p {
            color: var(--mongo-gray-light);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            position: relative;
            z-index: 1;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--mongo-green-light);
            color: var(--mongo-black);
            padding: 1rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }

        .cta-button:hover {
            background: var(--mongo-white);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 237, 100, 0.3);
        }

        /* Alert Boxes */
        .alert {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            border-radius: 12px;
            margin: 2rem 0;
        }

        .alert.warning {
            background: rgba(255, 192, 16, 0.1);
            border: 1px solid rgba(255, 192, 16, 0.3);
        }

        .alert.info {
            background: rgba(1, 107, 248, 0.1);
            border: 1px solid rgba(1, 107, 248, 0.3);
        }

        .alert.success {
            background: rgba(0, 237, 100, 0.1);
            border: 1px solid rgba(0, 237, 100, 0.3);
        }

        .alert-icon {
            flex-shrink: 0;
            width: 24px;
            height: 24px;
        }

        .alert.warning .alert-icon { color: var(--mongo-yellow); }
        .alert.info .alert-icon { color: var(--mongo-blue); }
        .alert.success .alert-icon { color: var(--mongo-green-light); }

        .alert-content h4 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .alert-content p {
            color: var(--mongo-gray-light);
            font-size: 0.95rem;
        }

        /* Recovery Steps */
        .recovery-timeline {
            position: relative;
            padding-left: 40px;
            margin: 2rem 0;
        }

        .recovery-timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--mongo-green-light), var(--mongo-green));
        }

        .recovery-step {
            position: relative;
            margin-bottom: 2rem;
            padding-left: 2rem;
        }

        .recovery-step::before {
            content: '';
            position: absolute;
            left: -25px;
            top: 6px;
            width: 12px;
            height: 12px;
            background: var(--mongo-green-light);
            border-radius: 50%;
            box-shadow: 0 0 0 4px rgba(0, 237, 100, 0.2);
        }

        .recovery-step h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--mongo-green-light);
        }

        .recovery-step p {
            color: var(--mongo-gray);
        }

        /* Footer */
        footer {
            background: rgba(0, 20, 30, 0.8);
            border-top: 1px solid rgba(0, 237, 100, 0.1);
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        footer p {
            color: var(--mongo-gray);
            font-size: 0.9rem;
        }

        footer a {
            color: var(--mongo-green-light);
            text-decoration: none;
        }

        /* Animations on Scroll */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav {
                padding: 1rem;
            }
            
            .nav-links {
                display: none;
            }
            
            section {
                padding: 4rem 1rem;
            }
            
            .problem-solution {
                grid-template-columns: 1fr;
            }
            
            .hero-icons {
                gap: 1.5rem;
            }
            
            .cta-section {
                padding: 2.5rem 1.5rem;
            }
            
            .diagram-row {
                flex-direction: column;
            }
            
            .diagram-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div class="grid-overlay"></div>

    <!-- Navigation -->
    <nav>
        <div class="logo">
            <svg viewBox="0 0 49 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.5 0L24.5 56" stroke="url(#leaf-gradient)" stroke-width="0"/>
                <path d="M24.9563 55.9048C24.8809 55.0498 24.7302 54.2702 24.5795 53.4906C22.3229 42.7663 17.5084 33.4163 10.0124 25.5417C7.52879 22.9138 4.89486 20.4367 2.63581 17.6579C-1.25647 12.7682 -0.653091 7.87846 3.53925 4.19661C7.05416 1.11861 11.3472 0.0386143 15.9416 0.00847247C20.8342 -0.0216693 25.4285 1.05833 29.6463 3.53559C38.6325 8.75866 43.1464 16.7342 45.4783 26.3217C47.0324 32.7867 47.4844 39.3523 46.956 45.9933C46.8053 47.9275 46.5039 49.8617 46.2778 51.7959C46.2024 52.5001 45.9763 53.2044 45.9009 53.9086C45.8256 54.4621 45.6749 55.091 45.0715 55.0406C44.4681 54.9902 44.3927 54.3613 44.3927 53.8078C44.3174 52.0496 44.1667 50.2915 44.0913 48.5334C43.9406 44.1168 43.4133 39.7506 42.2079 35.5352C40.1019 27.8868 36.0348 21.4219 29.5709 16.7846C27.3119 15.1517 24.8029 14.0213 22.0689 13.4678C21.6923 13.3924 21.3156 13.3171 20.9389 13.2417C20.1102 13.0156 19.5822 13.3171 19.2808 14.0967C18.9795 14.8763 18.7534 15.7313 18.5273 16.5109C17.9993 18.5205 17.546 20.6054 17.0933 22.6149C16.6406 24.5491 16.4145 26.5587 15.7357 28.4175C13.4768 34.5054 14.0802 40.3671 16.6406 46.2288C18.1193 49.6082 20.2253 52.536 22.9343 55.0406C23.1603 55.2416 23.3864 55.4426 23.5371 55.7189C23.8385 56.1962 23.9138 55.9952 24.0645 55.5682C24.2906 55.6939 24.5167 55.7693 24.9563 55.8952V55.9048Z" fill="url(#leaf-gradient)"/>
                <defs>
                    <linearGradient id="leaf-gradient" x1="24" y1="0" x2="24" y2="56" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#00ED64"/>
                        <stop offset="1" stop-color="#00684A"/>
                    </linearGradient>
                </defs>
            </svg>
            <span class="logo-text">MongoDB Enterprise</span>
        </div>
        <ul class="nav-links">
            <li><a href="#persistencia">Persistencia</a></li>
            <li><a href="#backups">Backups</a></li>
            <li><a href="#seguridad">Seguridad</a></li>
            <li><a href="#modelo">Modelo Operativo</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-badge">Documento Técnico · Diciembre 2024</div>
        <h1>MongoDB Enterprise en<br><span class="gradient-text">Google Kubernetes Engine</span></h1>
        <p class="hero-subtitle">Guía de Arquitectura y Mejores Prácticas para despliegues resilientes con Ops Manager, Backups nativos en GCS y Recuperación ante Desastres</p>
        
        <div class="hero-icons">
            <div class="hero-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="#00ED64"/>
                </svg>
                <span>Kubernetes</span>
            </div>
            <div class="hero-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" stroke="#00ED64"/>
                </svg>
                <span>Ops Manager</span>
            </div>
            <div class="hero-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="#00ED64"/>
                    <polyline points="22 4 12 14.01 9 11.01" stroke="#00ED64"/>
                </svg>
                <span>GCP Native</span>
            </div>
        </div>

        <div class="scroll-indicator">
            <span>Scroll para explorar</span>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M19 12l-7 7-7-7"/>
            </svg>
        </div>
    </section>

    <main>
        <!-- Section 1: Persistencia -->
        <section id="persistencia">
            <div class="section-header fade-in">
                <span class="section-number">01 — PERSISTENCIA</span>
                <h2>Diagnóstico y Solución de<br>Persistencia de Datos</h2>
                <p>Entendiendo el ciclo de vida de los volúmenes en Kubernetes y cómo proteger tus datos críticos</p>
            </div>

            <div class="problem-solution">
                <div class="card fade-in">
                    <div class="card-icon danger">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                    </div>
                    <h3>El Problema Identificado</h3>
                    <p>Durante el proceso de actualización del Operador, los volúmenes de datos fueron eliminados causando <strong>pérdida total de datos</strong>.</p>
                    <p>Kubernetes está diseñado bajo principios de <em>efímera</em>. Cuando un StatefulSet es eliminado o recreado, el orquestador consulta la <code>ReclaimPolicy</code> para decidir qué hacer con los datos.</p>
                    
                    <div class="alert warning">
                        <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                            <line x1="12" y1="9" x2="12" y2="13"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                        <div class="alert-content">
                            <h4>Configuración Default: DELETE</h4>
                            <p>La StorageClass estándar de GKE (standard o premium-rwo) viene con <code>reclaimPolicy: Delete</code>, destruyendo físicamente los discos cuando el PVC es liberado.</p>
                        </div>
                    </div>
                </div>

                <div class="card fade-in">
                    <div class="card-icon success">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            <polyline points="9 12 11 14 15 10"/>
                        </svg>
                    </div>
                    <h3>La Solución: Retain</h3>
                    <p>Implementar una capa de protección a nivel de infraestructura que <strong>ignore las señales de borrado</strong> del orquestador.</p>
                    <p>Con <code>reclaimPolicy: Retain</code>, incluso si el cluster de Kubernetes es destruido accidentalmente, el disco físico en GCP permanece intacto.</p>
                    
                    <div class="alert success">
                        <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        <div class="alert-content">
                            <h4>Seguro de Vida para tus Datos</h4>
                            <p>El administrador puede localizar el disco en la consola de GCP y re-montarlo en un nuevo cluster, garantizando cero pérdida de datos.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- YAML Code Block -->
            <div class="code-block fade-in">
                <div class="code-header">
                    <span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                        </svg>
                        storageclass-mongodb-retain.yaml
                    </span>
                    <div class="code-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="code-content">
                    <pre><span class="keyword">apiVersion:</span> <span class="string">storage.k8s.io/v1</span>
<span class="keyword">kind:</span> <span class="string">StorageClass</span>
<span class="keyword">metadata:</span>
  <span class="property">name:</span> <span class="string">mongodb-prod-retain</span>
<span class="keyword">provisioner:</span> <span class="string">pd.csi.storage.gke.io</span> <span class="comment"># Driver CSI recomendado para GKE</span>
<span class="keyword">parameters:</span>
  <span class="property">type:</span> <span class="string">pd-ssd</span>             <span class="comment"># Discos de estado sólido para rendimiento</span>
  <span class="property">replication-type:</span> <span class="string">none</span>   <span class="comment"># La replicación la maneja MongoDB, no el disco</span>
<span class="keyword">reclaimPolicy:</span> <span class="value">Retain</span>      <span class="comment"># ← CONFIGURACIÓN CRÍTICA: Evita borrado automático</span>
<span class="keyword">allowVolumeExpansion:</span> <span class="value">true</span> <span class="comment"># Permite crecer el disco sin downtime</span>
<span class="keyword">volumeBindingMode:</span> <span class="string">WaitForFirstConsumer</span></pre>
                </div>
            </div>

            <!-- Recovery Timeline -->
            <h3 style="margin-top: 3rem; margin-bottom: 1.5rem;" class="fade-in">Procedimiento de Recuperación (Disaster Recovery)</h3>
            <div class="recovery-timeline fade-in">
                <div class="recovery-step">
                    <h4>PVC Desaparece</h4>
                    <p>El objeto PVC (Claim) en Kubernetes es eliminado durante el incidente</p>
                </div>
                <div class="recovery-step">
                    <h4>PV Pasa a "Released"</h4>
                    <p>El objeto PV (Volume) cambia su estado a Released, quedando disponible</p>
                </div>
                <div class="recovery-step">
                    <h4>Disco Permanece Intacto</h4>
                    <p>El Persistent Disk en GCP se mantiene intacto gracias a reclaimPolicy: Retain</p>
                </div>
                <div class="recovery-step">
                    <h4>Re-montar en Nuevo Cluster</h4>
                    <p>El administrador localiza el disco en GCP Console y lo monta en un nuevo cluster</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Backups -->
        <section id="backups">
            <div class="section-header fade-in">
                <span class="section-number">02 — BACKUPS</span>
                <h2>Estrategia de Backups en<br>Google Cloud Storage</h2>
                <p>Backups nativos utilizando la infraestructura existente de GCP sin servicios externos</p>
            </div>

            <div class="alert info fade-in">
                <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="16" x2="12" y2="12"/>
                    <line x1="12" y1="8" x2="12.01" y2="8"/>
                </svg>
                <div class="alert-content">
                    <h4>Compatibilidad Técnica</h4>
                    <p>MongoDB Ops Manager utiliza el protocolo S3. Google Cloud Storage (GCS) ofrece una <strong>API de Interoperabilidad XML</strong> que emula perfectamente este comportamiento.</p>
                </div>
            </div>

            <!-- Architecture Diagram -->
            <div class="diagram-container fade-in">
                <h3 style="text-align: center; margin-bottom: 2rem;">Flujo de Datos: Backup Architecture</h3>
                <div class="diagram">
                    <div class="diagram-row">
                        <div class="diagram-box gke">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#016bf8" stroke-width="1.5" style="margin-bottom: 8px;">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                            <h4>GKE Cluster</h4>
                            <span>MongoDB Pod + Backup Agent</span>
                        </div>
                        <span class="diagram-arrow">→</span>
                        <div class="diagram-box mongodb">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="1.5" style="margin-bottom: 8px;">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <line x1="3" y1="9" x2="21" y2="9"/>
                                <line x1="9" y1="21" x2="9" y2="9"/>
                            </svg>
                            <h4>Ops Manager</h4>
                            <span>Gestión de Snapshots</span>
                        </div>
                        <span class="diagram-arrow">→</span>
                        <div class="diagram-box gcs">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ffc010" stroke-width="1.5" style="margin-bottom: 8px;">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                            </svg>
                            <h4>Google Cloud Storage</h4>
                            <span>Bucket con HMAC Auth</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Configuration Steps -->
            <h3 style="margin-top: 3rem; margin-bottom: 1.5rem;" class="fade-in">Guía de Configuración Detallada</h3>
            
            <div class="backup-flow">
                <div class="flow-step fade-in">
                    <span class="flow-step-number">A</span>
                    <h4>Crear Bucket en GCS</h4>
                    <p>Crear bucket (ej. <code>mongo-enterprise-backups</code>). Usar clase "Standard" para backups calientes y reglas de ciclo de vida para mover a "Coldline".</p>
                </div>
                <div class="flow-step fade-in">
                    <span class="flow-step-number">B</span>
                    <h4>Configurar Permisos IAM</h4>
                    <p>La Service Account debe tener el rol <strong>Storage Object Admin</strong> (o storage.objects.*) sobre el bucket.</p>
                </div>
                <div class="flow-step fade-in">
                    <span class="flow-step-number">C</span>
                    <h4>Generar Credenciales HMAC</h4>
                    <p>En Cloud Storage → Settings → Interoperability, seleccionar la Service Account y crear HMAC keys (Access Key + Secret).</p>
                </div>
                <div class="flow-step fade-in">
                    <span class="flow-step-number">D</span>
                    <h4>Configurar Ops Manager</h4>
                    <p>En Admin → Backup → Snapshot Storage, añadir nuevo "S3 Block Store" con los valores de la tabla siguiente.</p>
                </div>
            </div>

            <!-- Configuration Table -->
            <div class="fade-in" style="overflow-x: auto;">
                <table class="config-table">
                    <thead>
                        <tr>
                            <th>Parámetro</th>
                            <th>Valor Requerido</th>
                            <th>Explicación Técnica</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Type</td>
                            <td>S3 Block Store</td>
                            <td>Ops Manager usa librerías S3 estándar</td>
                        </tr>
                        <tr>
                            <td>Endpoint</td>
                            <td>https://storage.googleapis.com</td>
                            <td><strong>CRÍTICO:</strong> Redirecciona las llamadas API a Google</td>
                        </tr>
                        <tr>
                            <td>Bucket Name</td>
                            <td>nombre-de-su-bucket</td>
                            <td>El nombre exacto del bucket creado</td>
                        </tr>
                        <tr>
                            <td>Access Key</td>
                            <td>GOOG...</td>
                            <td>La clave de interoperabilidad generada</td>
                        </tr>
                        <tr>
                            <td>Secret Key</td>
                            <td>***</td>
                            <td>El secreto de interoperabilidad</td>
                        </tr>
                        <tr>
                            <td>Disable Path Style</td>
                            <td>True ✓</td>
                            <td>Necesario para la estructura de URLs de Google</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section 3: Security -->
        <section id="seguridad">
            <div class="section-header fade-in">
                <span class="section-number">03 — SEGURIDAD</span>
                <h2>Consideraciones de<br>Seguridad y Red (SSL/TLS)</h2>
                <p>Automatización de certificados para eliminar errores de configuración manual</p>
            </div>

            <div class="card fade-in" style="max-width: 800px; margin: 0 auto;">
                <div class="card-icon success">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                </div>
                <h3>Recomendación de Arquitectura: Cert-Manager</h3>
                <p>En entornos Kubernetes, la gestión manual de certificados es propensa a errores. La solución es utilizar <strong>Cert-Manager</strong> dentro del cluster.</p>
                
                <div style="margin-top: 2rem;">
                    <h4 style="color: var(--mongo-green-light); margin-bottom: 1rem;">Beneficios de la Integración Nativa</h4>
                    <ul class="model-list">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            El MongoDB Enterprise Operator tiene integración nativa con cert-manager
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Generación automática de certificados CA y certificados de nodo
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Rotación y renovación automática sin intervención humana
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Elimina errores de "handshake failure" o certificados expirados
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 4: Operational Model -->
        <section id="modelo">
            <div class="section-header fade-in">
                <span class="section-number">04 — MODELO OPERATIVO</span>
                <h2>Ops Manager vs. Kubernetes</h2>
                <p>Alineando expectativas sobre el rol de Ops Manager en arquitecturas modernas</p>
            </div>

            <div class="model-comparison">
                <div class="model-card traditional fade-in">
                    <span class="model-badge">Modelo Anterior</span>
                    <h4>Tradicional (VMs)</h4>
                    <p>Ops Manager es <strong>"Imperativo"</strong></p>
                    <ul class="model-list">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#889397" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            El usuario hace clic en la UI
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#889397" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            Ops Manager ejecuta los cambios directamente
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#889397" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            Control total de infraestructura desde la UI
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#889397" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            Cambios de RAM, CPU, Disco via interfaz gráfica
                        </li>
                    </ul>
                </div>

                <div class="model-card kubernetes fade-in">
                    <span class="model-badge">Modelo Actual</span>
                    <h4>Kubernetes (GKE)</h4>
                    <p>Ops Manager es <strong>"Declarativo"</strong></p>
                    <ul class="model-list">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            El usuario define el estado deseado en YAML
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            El Operador ejecuta los cambios
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            YAML es la "Fuente de la Verdad"
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#00ED64" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Ops Manager retiene: Backups, Alertas, Query Performance
                        </li>
                    </ul>
                </div>
            </div>

            <div class="alert info fade-in">
                <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                <div class="alert-content">
                    <h4>¿Por qué se "bloquea" la UI?</h4>
                    <p>Si Ops Manager permitiera cambios de infraestructura (RAM, CPU, Disco) desde la UI, entraría en conflicto con Kubernetes, causando inestabilidad. Por diseño, <strong>Ops Manager delega el control de infraestructura al Operador</strong> pero retiene el control total de la gestión de datos.</p>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section>
            <div class="cta-section fade-in">
                <h2>Conclusión y Siguientes Pasos</h2>
                <p>La plataforma actual es técnicamente viable para producción. Los incidentes previos derivan de configuraciones de integración nube-específicas que no vienen activadas por defecto.</p>
                <a href="#" class="cta-button">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                    Solicitar Servicios Profesionales
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>Documento preparado por <strong>Arquitectura de Soluciones MongoDB</strong> · Diciembre 2024</p>
        <p style="margin-top: 0.5rem;">Para: Michelle, Mauro, Luis · <a href="#">Contactar al equipo</a></p>
    </footer>

    <!-- Scroll Animation Script -->
    <script>
        // Intersection Observer for fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Navbar background on scroll
        const nav = document.querySelector('nav');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 100) {
                nav.style.background = 'rgba(0, 30, 43, 0.98)';
            } else {
                nav.style.background = 'rgba(0, 30, 43, 0.9)';
            }
        });
    </script>
</body>
</html>
